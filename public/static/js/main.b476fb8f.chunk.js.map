{"version":3,"sources":["services/http.service.js","services/user.service.js","cmps/SignIn.jsx","store/actions/user.actions.js","services/cloudinaryService.js","cmps/Upload.jsx","services/async-storage.service.js","services/stay.service.js","store/actions/stay.actions.js","cmps/StayAdd.jsx","assets/img/icons/angle-left.svg","assets/img/new-york.jpg","assets/img/rio.jpg","assets/img/sydney.jpg","assets/img/icons/angle-right.svg","cmps/ImgsCarousel.jsx","cmps/ReviewsStats.jsx","cmps/StayPreview.jsx","cmps/TopList.jsx","cmps/StayList.jsx","cmps/StayFilterSort.jsx","pages/StayApp.jsx","cmps/StayMap.jsx","cmps/ReviewsDetails.jsx","cmps/ReviewsList.jsx","cmps/ReviewsModal.jsx","cmps/StayReviews.jsx","services/orderService.js","cmps/AddOrder/DatePicker.jsx","cmps/AddOrder/IconAlerts.jsx","cmps/AddOrder/SimpleModal.jsx","cmps/AddOrder/FaildModal.jsx","cmps/AddOrder/ChecksModal.jsx","cmps/AddOrder/Button.jsx","cmps/AddOrder/AddGuest.jsx","cmps/AddOrder/GuestsModal.jsx","cmps/AddOrder/AddOrder.jsx","store/actions/order.actions.js","pages/StayDetails.jsx","assets/img/icons/envelope-regular.svg","cmps/UserInbox.jsx","assets/img/icons/phone-solid.svg","cmps/BookingTable.jsx","cmps/UserStayPreview.jsx","cmps/StayStatistics.jsx","cmps/UserStaysList.jsx","cmps/UserStats.jsx","pages/UserProfile.jsx","assets/img/airbnb.svg","routes.js","pages/Home.jsx","cmps/Footer.jsx","cmps/StayFilterSearch.jsx","cmps/HeaderFilter.jsx","cmps/SimpleMenu.jsx","cmps/Header.jsx","App.jsx","reportWebVitals.js","services/storage-service.js","services/user.service.axios.js","store/reducers/app.reducer.js","store/reducers/stay.reducer.js","store/reducers/user.reducer.js","store/reducers/order.reducers.js","store/store.js","index.js"],"names":["BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","console","log","dir","response","status","window","location","assign","userService","login","logout","signup","getUsers","getById","userId","remove","update","getLoggedinUser","user","_id","_saveLocalUser","userCred","sessionStorage","clear","setItem","JSON","stringify","parse","getItem","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","mapDispatchToProps","userCreds","dispatch","type","SignIn","connect","state","users","userModule","loggedInUser","props","classes","handleChanges","ev","target","name","value","Container","component","maxWidth","onSubmit","preventDefault","stopPropagation","history","push","CssBaseline","className","Avatar","Typography","variant","noValidate","TextField","color","required","fullWidth","id","label","autoComplete","onChange","autoFocus","FormControlLabel","control","Checkbox","Grid","container","item","xs","Link","href","cloudinaryService","uploadImg","UPLOAD_URL","formData","FormData","append","files","fetch","body","then","json","catch","err","error","Upload","imgUrl","height","isUploading","setState","secure_url","getImgUrl","this","previewStyle","backgroundImage","style","htmlFor","uploadMsg","accept","Component","gStays","require","stay","storageService","query","get","entityType","entityId","entities","find","entity","post","newEntity","_makeId","_save","put","updatedEntity","idx","findIndex","splice","localStorage","Promise","resolve","length","text","possible","i","charAt","Math","floor","random","Geocode","setApiKey","stayService","filterBy","stayId","save","locFromAddress","fromAddress","results","geometry","lat","lng","loadStays","searchTxt","price","sortBy","stays","saveStay","savedStay","_StayAdd","imgUrls","summary","capacity","amenities","host","loggedinUser","fullname","loc","address","handleChange","toggleCheckbox","checked","indexOf","handleAdressChange","onGetLoc","onAddStay","placeholder","disabled","selected","maxLength","React","_path","StayAdd","appModule","_excluded","_extends","Object","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgAngleLeft","_ref","svgRef","title","titleId","focusable","role","xmlns","viewBox","ref","fill","d","ForwardRef","SvgAngleRight","ImgsCarousel","useState","current","setCurrent","skipToSlide","onClick","map","img","index","src","alt","ReviewsStats","reviews","reviewsAvg","icon","faStar","StayPreview","to","reduce","acc","review","rate","toFixed","_TopList","staysToDisplay","topReviews","staysWithAvg","avgRate","sort","b","slice","TopList","stayModule","StayList","StayFilterSort","onSetFilter","select","size","SelectProps","native","_StayApp","StayApp","_GoogleMap","onMapClicked","latLng","google","zoom","initialCenter","center","position","visible","StayMap","GoogleApiWrapper","apiKey","ReviewsDetails","onOpenReviewModal","by","txt","ReviewsList","ReviewsModal","closeModal","faTimes","StayReviews","isModalOpen","targetRef","targetElement","disableBodyScroll","enableBodyScroll","forwardRef","clearAllBodyScrollLocks","order","orderService","orderId","TableDatePicker","startDate","Date","setStartDate","endDate","setEndDate","useEffect","setDates","selectsStart","date","selectsEnd","minDate","root","IconAlerts","rand","round","getModalStyle","top","left","transform","background","border","boxShadow","shadows","padding","SimpleModal","modalStyle","open","setOpen","Modal","onClose","aria-labelledby","aria-describedby","ChecksModal","nightCount","totalPrice","Button","action","AddGuest","guests","adults","kids","incrementCountAdults","setGuests","decrementCountAdutls","incrementCountKids","decrementCountKids","MenuItem","min","GuestsModal","_AddOrder","isModalCheckOpen","hostId","createdAt","now","buyer","calcTotalPrice","getTripTime","getTime","field","prevState","onSaveOrder","saveOrder","onOpenGuestsModal","onOpenCheckModal","savedOrder","AddOrder","orders","orderModule","_StayDetails","isEditMode","loadStay","match","onUpdateStay","updateStay","toggleEditMode","loadPic","bedroom","bath","faBed","faWifi","faTv","faSnowflake","faSmoking","faPaw","faUtensils","faRecycle","faMusic","removeStay","setSelectedStay","StayDetails","UserInbox","SvgEnvelopeRegular","SvgPhoneSolid","_BookingTable","ordersToDisplay","getFormatDate","timstamp","toLocaleDateString","loadOrders","filter","parseInt","isLoading","BookingTable","UserStayPreview","labels","StayStatistics","datasets","borderColor","borderWidth","_UserStaysList","currentUserStays","isHost","UserStaysList","UserStats","_UserProfile","routes","path","newYorkImg","sydneyImg","rioImg","exact","Footer","class","SvgAirbnb","StayFilterSearch","_HeaderFilter","start","end","data-panel-bounds","aria-atomic","aria-live","tabindex","aria-expanded","data-testid","aria-hidden","HeaderFilter","SimpleMenu","anchorEl","setAnchorEl","handleClose","event","currentTarget","Menu","keepMounted","Boolean","_Header","isModalShow","isHeaderFilterOpen","openFillter","showModal","Header","App","route","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","load","val","STORAGE_KEY","initialState","credentials","userInfo","selectedStay","shoppingCart","localLoggedinUser","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","score","store","createStore","applyMiddleware","ReduxThunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b476fb8f.chunk.js","sourcesContent":["import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            // url: `${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/#/login')\r\n        }\r\n        throw err\r\n    }\r\n}","// import { storageService } from './async-storage.service'\r\nimport { httpService } from './http.service'\r\n// const SCORE_FOR_REVIEW = 10\r\n// const BASE_URL = process.env.NODE_ENV === 'production' ? '/api/' : 'http://localhost:3030/api/'\r\n// const BASE_URL= 'http://localhost:3030/api/'\r\n\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    getLoggedinUser,\r\n    // increaseScore\r\n}\r\n\r\nwindow.userService = userService\r\n// Note: due to async, must run one by one...\r\n// userService.signup({fullname: 'Puki Norma', username: 'user1', password:'123',score: 100, isAdmin: false})\r\n// userService.signup({fullname: 'Master Adminov', username: 'admin', password:'admin', score: 100, isAdmin: true})\r\n// userService.signup({fullname: 'Muki G', username: 'muki', password:'123', score: 100})\r\n\r\nfunction getUsers() {\r\n    // return storageService.query('user')\r\n    return httpService.get(`user`)\r\n}\r\n\r\nfunction getById(userId) {\r\n    // return storageService.get('user', userId)\r\n    return httpService.get(`user/${userId}`)\r\n}\r\nfunction remove(userId) {\r\n    // return storageService.remove('user', userId)\r\n    return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n    // return storageService.put('user', user)\r\n    user = await httpService.put(`user/${user._id}`, user)\r\n    // Handle case in which admin updates other user's details\r\n    if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n}\r\n\r\n// async function increaseScore(by = SCORE_FOR_REVIEW) {\r\n//     const user = getLoggedinUser()\r\n//     user.score = user.score + by || by\r\n//     await update(user)\r\n//     return user.score\r\n// }\r\n\r\nasync function login(userCred) {\r\n    // const users = await storageService.query('user')\r\n    // const user = users.find(user => user.username === userCred.username)\r\n    // return _saveLocalUser(user)\r\n    const user = await httpService.post(`auth/login`, userCred)\r\n    console.log(userCred)\r\n    if (user) return _saveLocalUser(user)\r\n}\r\n\r\nasync function signup(userCred) {\r\n    // const user = await storageService.post('user', userCred)\r\n    const user = await httpService.post('auth/signup', userCred)\r\n    return _saveLocalUser(user)\r\n}\r\n\r\nasync function logout() {\r\n    sessionStorage.clear()\r\n    return await httpService.post('auth/logout')\r\n}\r\n\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem('loggedinUser', JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem('loggedinUser') || 'null')\r\n}\r\n\r\n","import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { connect } from 'react-redux'\r\n\r\nimport {\r\n  loadUsers,\r\n  removeUser,\r\n  login,\r\n  logout,\r\n  signup\r\n} from '../store/actions/user.actions'\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nfunction _SignIn(props) {\r\n  const classes = useStyles();\r\n\r\n  const user = {}\r\n\r\n  function handleChanges(ev) {\r\n    user[ev.target.name] = ev.target.value\r\n  }\r\n  \r\n  function doLogin(ev) {\r\n    ev.preventDefault()\r\n    ev.stopPropagation()\r\n    props.login(user)\r\n    props.history.push('/')\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\" onSubmit={doLogin}>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\" >\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            color=\"secondary\"\r\n            required\r\n            fullWidth\r\n            id=\"username\"\r\n            label=\"User name\"\r\n            name=\"username\"\r\n            autoComplete=\"username\"\r\n            onChange={handleChanges}\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            color=\"secondary\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            onChange={handleChanges}\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    \r\n    </Container>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    users: state.userModule.users,\r\n    loggedInUser: state.userModule.loggedInUser,\r\n    // isLoading: state.systemModule.isLoading\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  login,\r\n  logout,\r\n  // signup,\r\n  // removeUser,\r\n  // loadUsers\r\n}\r\n\r\nexport const SignIn = connect(mapStateToProps, mapDispatchToProps)(_SignIn)","import { userService } from '../../services/user.service.js'\r\n\r\n// THUNK action creators\r\n// Work asynchronously with the service and dispatch actions to the reducers \r\n\r\nexport function loadUsers() {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch({ type: 'LOADING_START' })\r\n      const users = await userService.getUsers()\r\n      dispatch({ type: 'SET_USERS', users })\r\n    } catch (err) {\r\n      console.log('UserActions: err in loadUsers', err)\r\n    } finally {\r\n      dispatch({ type: 'LOADING_DONE' })\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.remove(userId)\r\n      dispatch({ type: 'REMOVE_USER', userId })\r\n    } catch (err) {\r\n      console.log('UserActions: err in removeUser', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function login(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.login(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in login', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function signup(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.signup(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in signup', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function logout() {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.logout()\r\n      dispatch({ type: 'SET_USER', user: null })\r\n    } catch (err) {\r\n      console.log('UserActions: err in logout', err)\r\n    }\r\n  }\r\n}\r\n","export const cloudinaryService = {\r\n  uploadImg\r\n}\r\nfunction uploadImg(ev) {\r\n  const CLOUD_NAME = 'dz5exyj5l'\r\n  const PRESET_NAME = 'cj6vnjkd'\r\n  const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n\r\n  const formData = new FormData();\r\n  formData.append('file', ev.target.files[0])\r\n  formData.append('upload_preset', PRESET_NAME);\r\n\r\n  return fetch(UPLOAD_URL, {\r\n    method: 'POST',\r\n    body: formData\r\n  })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      console.log(res)\r\n\r\n      return res\r\n    })\r\n    .catch(err => console.error(err))\r\n}\r\n","import { Component } from 'react'\r\nimport { cloudinaryService } from '../services/cloudinaryService'\r\n\r\nexport class Upload extends Component {\r\n  state = {\r\n    imgUrl: null,\r\n    height: 100,\r\n    width: 100,\r\n    isUploading: false\r\n  }\r\n\r\n  uploadImg = async (ev) => {\r\n    this.setState({ isUploading: true })\r\n    const { secure_url, height, width } = await cloudinaryService.uploadImg(ev)\r\n    this.setState({ isUploading: false, imgUrl: secure_url, height, width })\r\n    this.props.getImgUrl(this.state.imgUrl)\r\n  }\r\n\r\n  get uploadMsg() {\r\n    const { imgUrl, isUploading } = this.state\r\n    if (imgUrl) return 'Upload Another?'\r\n    return isUploading ? 'Uploading....' : 'Upload Image'\r\n  }\r\n\r\n  render() {\r\n    const { imgUrl, width, height } = this.state\r\n    const previewStyle = {\r\n      backgroundImage: `url(${imgUrl})`,\r\n      // width: 100,\r\n      // height: 100,\r\n    }\r\n    return (\r\n      <div className=\"upload-container\">\r\n        <div className=\"upload-grid\">\r\n          <div className=\"upload-preview\" style={previewStyle}>\r\n            {/* <img src=\"\" alt=\"\" /> */}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"imgUpload\">{this.uploadMsg}</label>\r\n          <input type=\"file\" onChange={this.uploadImg} accept=\"img/*\" id=\"imgUpload\" />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","const data = require('../data/stays.json')\r\n\r\nlet gStays = data.stay\r\n// let gUsers = data.user\r\n// let gOrder = data.order\r\n// let gTrip = data.trip\r\n\r\nexport const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n}\r\n\r\nfunction query(entityType) {\r\n    // console.log('entityType:', entityType);\r\n    var entities = JSON.parse(localStorage.getItem(entityType)) || gStays\r\n    // console.log('entities:', entities);\r\n    // _save(entityType, entities)\r\n    return Promise.resolve(entities)\r\n}\r\n\r\nfunction get(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => entities.find(entity => entity._id === entityId))\r\n        \r\n    }\r\n\r\nfunction post(entityType, newEntity) {\r\n    newEntity._id = _makeId()\r\n    return query(entityType)\r\n        .then(entities => {\r\n            entities.push(newEntity)\r\n            _save(entityType, entities)\r\n            return newEntity\r\n        })\r\n}\r\n\r\nfunction put(entityType, updatedEntity) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\r\n            entities.splice(idx, 1, updatedEntity)\r\n            _save(entityType, entities)\r\n            return updatedEntity\r\n        })\r\n}\r\n\r\nfunction remove(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === entityId)\r\n            entities.splice(idx, 1)\r\n            _save(entityType, entities)\r\n        })\r\n}\r\n\r\nfunction _save(entityType, entities) {\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n\r\nfunction _makeId(length = 5) {\r\n    var text = ''\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return text\r\n}","// import { httpService } from './http.service'\r\nimport { storageService } from './async-storage.service.js'\r\nimport Geocode from \"react-geocode\";\r\nimport { httpService } from './http.service.js'\r\n\r\n\r\nconst data = require('../data/stays.json')\r\nlet gStays = data.stay\r\nwindow.storageService = storageService;\r\n\r\nGeocode.setApiKey(\"AIzaSyBicrFlwKD-lW0_kqfkTRcJI1O2YrTS1GQ\");\r\n// const STOR\r\n\r\nconst axios = require('axios');\r\n\r\n// - // for Deverlop without backend\r\nconst STORAGE_KEY = 'stay'\r\n\r\nexport const stayService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    remove,\r\n    locFromAddress\r\n}\r\n\r\n// const BASE_URL = process.env.NODE_ENV === 'production' ? '/api/' : 'http://localhost:3030/api/stay'\r\n\r\n\r\nfunction query(filterBy) {\r\n    // var queryStr = (!filterBy) ? '' : `?searchTxt=${filterBy.searchTxt}&type=${filterBy.type}&price=${filterBy.price}&sortBy=${filterBy.sortBy}`\r\n    // return httpService.get(`stay/${queryStr}`)\r\n    return httpService.get(`stay`, filterBy)\r\n\r\n    // return storageService.query(STORAGE_KEY).then(stays => {\r\n    //     if (!stays || !stays.length) stays = gStays\r\n    //     return stays\r\n    // })\r\n\r\n    // return axios.get(`${BASE_URL}`).then((res=>res.data))\r\n}\r\n\r\nfunction getById(stayId) {\r\n    // console.log(stayId)\r\n    return httpService.get(`stay/${stayId}`)\r\n    // return storageService.get(STORAGE_KEY, stayId)\r\n    // return axios.get(`${BASE_URL}/${stayId}`).then((res => res.data))\r\n}\r\nfunction remove(stayId) {\r\n    return httpService.delete(`stay/${stayId}`)\r\n    // return storageService.remove(STORAGE_KEY, stayId)\r\n    // return axios.delete(`${BASE_URL}/${stayId}`).then((res => res.data))\r\n}\r\nasync function save(stay) {\r\n    if (stay._id) {\r\n        return await httpService.put(`stay/${stay._id}`, stay)\r\n        // return storageService.put(STORAGE_KEY, stay)\r\n        // return axios.put(`${BASE_URL}`, stay).then(res => res.data)\r\n    } else {\r\n        return await httpService.post(`stay`, stay)\r\n        // return storageService.post(STORAGE_KEY, stay)\r\n        // return axios.post(`${BASE_URL}`, stay).then(res => res.data)\r\n    }\r\n}\r\n\r\n// function save(stay) {\r\n//     console.log('stay from service', stay)\r\n//     if (stay._id) {\r\n//         return httpService.put(`stay/${stay._id}`, stay);\r\n//     } else {\r\n//         return httpService.post(`stay`, stay);\r\n//     }\r\n// }\r\n\r\nasync function locFromAddress(location) {\r\n    const res = await Geocode.fromAddress(location)\r\n    const { lat, lng } = res.results[0].geometry.location\r\n    return { lat, lng }\r\n}\r\n\r\n\r\n\r\n\r\n","import { stayService } from '../../services/stay.service.js'\r\n\r\nexport function loadStays(filterBy = { searchTxt: '', price: 'all', type: 'all',sortBy: 'all' }) { // Action Creator\r\n    return async dispatch => {\r\n        try {\r\n            const stays = await stayService.query(filterBy)\r\n            dispatch({ type: 'SET_STAYS', stays })\r\n        } catch (err) {\r\n            console.log('StaysActions: err in loadStays', err)\r\n            dispatch({ type: 'STAY_ERR', err })\r\n        }\r\n    }\r\n}\r\n\r\nexport function saveStay(stay) { // Action Creator\r\n    console.log('actions stay:', stay);\r\n    return dispatch => { \r\n        return stayService.save(stay)\r\n            .then((savedStay) => {\r\n                if (!stay._id) dispatch({ type: 'ADD_STAY', stay: savedStay })\r\n                else dispatch({ type: 'UPDATE_STAY', stay: savedStay })\r\n            })\r\n    }\r\n}\r\n\r\nexport function setSelectedStay(stayId) { // Action Creator\r\n    return dispatch => {\r\n        return stayService.getById(stayId)\r\n            .then((stay) => {\r\n                if (!stay) stay = null\r\n                const action = {\r\n                    type: 'SELECT_STAY',\r\n                    stay,\r\n                }\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\nexport function removeStay(stayId) { // Action Creator\r\n    return async dispatch => {\r\n        try{\r\n        await stayService.remove(stayId)\r\n        dispatch({type: 'REMOVE_STAY', stayId})\r\n     } catch (err) {\r\n        console.log('StaysActions: err in removeStays', err)\r\n        dispatch({ type: 'STAY_ERR', err })\r\n     }\r\n    }\r\n}\r\n\r\nexport function addStay(stay) {\r\n    return async dispatch => {\r\n      try {\r\n        const addedStay = await stayService.add(stay)\r\n        dispatch({ type: 'ADD_TOY', stay: addedStay })\r\n  \r\n      } catch (err) {\r\n        console.log('StayActions: err in addStay', err)\r\n      }\r\n    }\r\n  }\r\n  \r\n  export function updateStay(stay) {\r\n    return async dispatch => {\r\n      try {\r\n        const updatedStay = await stayService.update(stay)\r\n        dispatch({ type: 'UPDATE_TOY', stay: updatedStay })\r\n  \r\n      } catch (err) {\r\n        console.log('StayActions: err in updateStay', err)\r\n      }\r\n    }\r\n  }","import { connect } from 'react-redux'\r\nimport React from 'react';\r\nimport { Upload } from './Upload';\r\nimport { saveStay } from '../store/actions/stay.actions.js'\r\nimport { stayService } from '../services/stay.service';\r\n\r\nexport class _StayAdd extends React.Component {\r\n    state = {\r\n        stay: {\r\n            name: '',\r\n            type: '',\r\n            imgUrls: [],\r\n            price: '',\r\n            summary: '',\r\n            capacity: '',\r\n            amenities: [],\r\n            // TODO: get from user service\r\n            host: {\r\n                _id: this.props.loggedinUser._id,\r\n                fullname: this.props.loggedinUser.fullname,\r\n                imgUrl: this.props.loggedinUser.imgUrl,\r\n            },\r\n            loc: {\r\n                // country: 'Portugal',\r\n                // countryCode: 'PT', // TODO: country code service\r\n                address: '',\r\n                lat: '', // TODO: location service\r\n                lng: ''\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const { name, value } = target\r\n        this.setState({ stay: { ...this.state.stay, [name]: value } })\r\n    }\r\n\r\n    toggleCheckbox = ({ target }) => {\r\n        const { name, value, checked } = target\r\n        const { amenities } = this.state.stay\r\n        if (checked === true) amenities.push(name)\r\n        else {\r\n            const idx = amenities.indexOf(name)\r\n            amenities.splice(idx, 1)\r\n        }\r\n        this.setState({ stay: { ...this.state.stay, amenities } })\r\n    }\r\n\r\n    getImgUrl = (imgUrl) => {\r\n        console.log('cloudeUrl', imgUrl);\r\n        this.state.stay.imgUrls.push(imgUrl)\r\n    }\r\n\r\n    handleAdressChange = ({ target }) => {\r\n        const { name, value } = target\r\n        // console.log('name:', name, 'value:', value);\r\n        this.setState({ stay: { ...this.state.stay, loc: { ...this.state.stay.loc, [name]: value } } })\r\n    }\r\n\r\n    onGetLoc = async () => {\r\n        const { address } = this.state.stay.loc\r\n        console.log('address', address);\r\n        const res = await stayService.locFromAddress(address)\r\n        console.log(res)\r\n        // this.setState({ stay: { ...this.state.stay, loc.lat: res.lat } })\r\n        this.setState({ stay: { ...this.state.stay, loc: { ...this.state.stay.loc, lat: res.lat, lng: res.lng } } })\r\n    }\r\n\r\n    onAddStay = async (ev) => {\r\n        ev.preventDefault()\r\n        await this.onGetLoc()\r\n        console.log(this.state.stay);\r\n        this.props.saveStay(this.state.stay)\r\n        //CLEAN-UP\r\n        this.setState({\r\n            stay: {\r\n                name: '',\r\n                type: '',\r\n                imgUrls: [],\r\n                price: '',\r\n                summary: '',\r\n                capacity: '',\r\n                amenities: [],\r\n                // TODO: get from service\r\n                host: {\r\n                },\r\n                loc: {\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { name, loc, type, price, capacity, amenities, summary } = this.state.stay\r\n        return (\r\n            <div >\r\n                <form className=\"add-form\" onSubmit={(ev) => this.onAddStay(ev)}>\r\n                    <Upload getImgUrl={this.getImgUrl} />\r\n                    <input type=\"text\" name=\"name\" placeholder=\"Name\"\r\n                        value={name} onChange={this.handleChange} required />\r\n                    <input type=\"text\" name=\"address\" placeholder=\"Address\"\r\n                        value={loc.address} onChange={this.handleAdressChange} />\r\n\r\n                    <div className=\"primary-details\">\r\n                        <select name=\"type\" value={type} onChange={this.handleChange} required>\r\n                            <option value=\"\" disabled selected>Listing type</option>\r\n                            <option value=\"Apartment\">Apartment</option>\r\n                            <option value=\"Entire-House\">Entire House</option>\r\n                            <option value=\"Villa\">Villa</option>\r\n                            <option value=\"Duplex\">Duplex</option>\r\n                            <option value=\"Caravan\">Caravan</option>\r\n                            <option value=\"Hideaway\">Hideaway</option>\r\n                        </select>\r\n                        <input className=\"input-capacity\" type=\"number\" placeholder=\"Capacity\"\r\n                            name=\"capacity\" value={capacity} onChange={this.handleChange} />\r\n                        <input className=\"input-price\" type=\"number\" placeholder=\"Price / night\"\r\n                            name=\"price\" value={price} onChange={this.handleChange} />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <p>Amenities</p>\r\n                        <div className=\"amenities\">\r\n                            <span>\r\n                                <input type=\"checkbox\" name=\"wifi\" checked={null} value={true}\r\n                                    onChange={this.toggleCheckbox} />\r\n                                <label htmlFor=\"wifi\">Wifi</label>\r\n                            </span>\r\n                            <span>\r\n                                <input type=\"checkbox\" name=\"TV\" checked={null} value={true}\r\n                                    onChange={this.toggleCheckbox} />\r\n                                <label htmlFor=\"TV\">TV</label>\r\n                            </span>\r\n                            <span>\r\n                                <input type=\"checkbox\" name=\"Pool\" checked={null} value={true}\r\n                                    onChange={this.toggleCheckbox} />\r\n                                <label htmlFor=\"Pool\">Pool</label>\r\n                            </span>\r\n                            <span>\r\n                                <input type=\"checkbox\" name=\"Kitchen\" checked={null} value={true}\r\n                                    onChange={this.toggleCheckbox} />\r\n                                <label htmlFor=\"Kitchen\">Kitchen</label>\r\n                            </span>\r\n                            <span>\r\n                                <input type=\"checkbox\" name=\"Air Conditioning\" checked={null} value={true}\r\n                                    onChange={this.toggleCheckbox} />\r\n                                <label htmlFor=\"Air Conditioning\">Air Conditioning</label>\r\n                            </span>\r\n                            <span>\r\n                                <input type=\"checkbox\" name=\"Pets Allowed\" checked={null} value={true}\r\n                                    onChange={this.toggleCheckbox} />\r\n                                <label htmlFor=\"Pets Allowed\">Pets Allowed</label>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* <input type=\"checkbox\" name=\"inStock\"\r\n                        checked={inStock}\r\n                        value={inStock} onChange={() => {\r\n                            this.setState({ toy: { ...this.state.toy, inStock: !this.state.toy.inStock } })\r\n                        }} /> */}\r\n\r\n\r\n                    <div className=\"add-summary\">\r\n                        <textarea placeholder=\"Summary\"  name=\"summary\" maxLength=\"250\"\r\n                            value={summary} onChange={this.handleChange}>\r\n                        </textarea>\r\n                    </div>\r\n                    <div className=\"form-controlls\">\r\n                        <button>Save</button>\r\n                        <a href=\"\">cancel</a>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        // stays: state.stayModule.stays,\r\n        loggedinUser: state.appModule.loggedinUser\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    saveStay,\r\n}\r\n\r\nexport const StayAdd = connect(mapStateToProps, mapDispatchToProps)(_StayAdd)","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAngleLeft(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"angle-left\",\n    className: \"svg-inline--fa fa-angle-left fa-w-8\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 256 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAngleLeft);\nexport default __webpack_public_path__ + \"static/media/angle-left.e6b3ab3d.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/new-york.a79d1b79.jpg\";","export default __webpack_public_path__ + \"static/media/rio.d65e2ab5.jpg\";","export default __webpack_public_path__ + \"static/media/sydney.96634ac2.jpg\";","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAngleRight(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"angle-right\",\n    className: \"svg-inline--fa fa-angle-right fa-w-8\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 256 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAngleRight);\nexport default __webpack_public_path__ + \"static/media/angle-right.cd2a56f4.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ReactComponent as AngleLeft } from '../assets/img/icons/angle-left.svg'\r\nimport { ReactComponent as AngleRight } from '../assets/img/icons/angle-right.svg'\r\n\r\n\r\nexport function ImgsCarousel({ imgUrls }) {\r\n\r\n    let [current, setCurrent] = useState(0)\r\n    // let [translateX, setTranslate] = useState(0) //\r\n    const length = imgUrls.length\r\n\r\n    const nextSlide = (ev) => {\r\n        ev.preventDefault()\r\n        setCurrent(current === length - 1 ? 0 : current + 1)\r\n        \r\n        // setTranslate(translateX -= 1000) //\r\n    }\r\n\r\n    const prevSlide = (ev) => {\r\n        ev.preventDefault()\r\n        setCurrent(current === 0 ? length - 1 : current - 1)\r\n\r\n        // setTranslate(translateX += 1000) //\r\n    }\r\n\r\n\r\n    const skipToSlide = (ev) => {\r\n        ev.preventDefault()\r\n        const idx = +ev.target.id\r\n        console.log('idx:', idx);\r\n        setCurrent(idx)\r\n    }\r\n\r\n    // imgUrls.style.transform = `translateX(${translateX}px)` //\r\n\r\n    if (!imgUrls || imgUrls <= 0) return <div>Loading</div>\r\n    return (\r\n\r\n        <div className=\"slider\">\r\n            <AngleLeft className=\"left-arrow\" onClick={prevSlide} />\r\n\r\n            <div className=\"imgs\">\r\n\r\n                {imgUrls.map((img, index) => {\r\n                    return (\r\n                        <div className={index === current ? 'slide active' : 'slide'} key={index}>\r\n                            {index === current && (<img src={img} alt=\"stay image\" />)}\r\n                        </div>\r\n                    )\r\n                })}\r\n\r\n            </div>\r\n\r\n            <AngleRight className=\"right-arrow\" onClick={nextSlide} />\r\n            <div className=\"indicators\">\r\n                {imgUrls.map((img, index) => {\r\n                    return (\r\n                        <div className={index === current ? 'dot active' : 'dot'} key={index} id={index} onClick={skipToSlide}></div>\r\n                        // return <input key={index} type=\"radio\" id={index}/>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n\r\n\r\n    // const changeImg = ({ target }) => {\r\n    //     const carouselImgs = [\r\n    //         'https://via.placeholder.com/300',\r\n    //         'https://via.placeholder.com/300',\r\n    //         'https://via.placeholder.com/300',\r\n    //         'https://via.placeholder.com/300',\r\n    //         'https://via.placeholder.com/300'\r\n    // ]\r\n    //     var numOfImgs = carouselImgs.length\r\n    //     console.log(numOfImgs);\r\n    //     let imgIdx = 1\r\n    //     let translateX = 0\r\n\r\n    //     const { value } = target\r\n    //     console.log(value);\r\n    //     if (value === 'previous') {\r\n    //         if (imgIdx !== 1) {\r\n    //             imgIdx--\r\n    //             translateX += 300\r\n    //         }\r\n    //     } else {\r\n    //         if (imgIdx !== numOfImgs) {\r\n    //             imgIdx++\r\n    //             translateX -= 300\r\n    //         }\r\n    //     }\r\n\r\n    //     carouselImgs.style.transform = `translateX(${translateX}px)`\r\n    // }\r\n\r\n\r\n    // <div className=\"carousel\">\r\n        //     <button className=\"carousel__btn previous\"\r\n        //         value=\"previous\" onClick={changeImg}>\r\n        //         {\"<\"}</button>\r\n\r\n        //     <div className=\"carousel__imgs\">\r\n        //         <img src=\"https://via.placeholder.com/300\" alt=\"\" />\r\n        //         <img src=\"https://via.placeholder.com/300\" alt=\"\" />\r\n        //         <img src=\"https://via.placeholder.com/300\" alt=\"\" />\r\n        //         <img src=\"https://via.placeholder.com/300\" alt=\"\" />\r\n        //         <img src=\"https://via.placeholder.com/300\" alt=\"\" />\r\n        //     </div>\r\n\r\n        //     <button className=\"carousel__btn next\"\r\n        //         value=\"next\" onClick={changeImg}>\r\n        //         {\">\"}</button>\r\n        // </div>","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport function ReviewsStats({reviews, reviewsAvg}){\r\n    return(\r\n        <div className=\"reviews-stats\">\r\n            <FontAwesomeIcon className=\"star-icon\" icon={faStar} />\r\n                <span><span className=\"rev-avg\">{reviewsAvg()}</span><span className=\"reviews-count\"> ({reviews.length} reviews)</span></span>\r\n            </div>\r\n    )\r\n}","import { Link } from 'react-router-dom'\r\nimport { ImgsCarousel } from './ImgsCarousel'\r\nimport { ReviewsStats } from './ReviewsStats'\r\n\r\nexport function StayPreview({ stay }) {\r\n\r\n    function reviewsAvg() {\r\n        const avg = stay.reviews.reduce((acc, review) => acc += review.rate, 0) / stay.reviews.length\r\n        return avg.toFixed(1)\r\n    }\r\n\r\n    if (!stay) return <div>Loading...</div>\r\n\r\n    return (\r\n        <div className=\"stay-preview\">\r\n            <Link to={'/stay/' + stay._id}>\r\n                <ImgsCarousel imgUrls={stay.imgUrls} />\r\n                <div className=\"preview-content\">\r\n\r\n                    {stay.reviews?.length && <ReviewsStats reviews={stay.reviews} reviewsAvg={reviewsAvg} />}\r\n                    <p className=\"grey\">{stay.type} in {stay.loc.address}</p>\r\n                    <p className=\"name\">{stay.name}</p>\r\n                    {/* <p>{stay.summary.substring(0, 32)}...</p> */}\r\n                    {/* <p>{stay.capacity}</p> */}\r\n                    <p><span className=\"price\">${stay.price}</span> / night</p>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    )\r\n}","import { connect } from 'react-redux'\r\nimport React from 'react';\r\nimport { loadStays } from '../store/actions/stay.actions.js'\r\nimport { StayPreview } from './StayPreview'\r\n\r\nclass _TopList extends React.Component {\r\n\r\n    state = {\r\n        staysToDisplay: []\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.props.loadStays()\r\n        this.topReviews()\r\n    }\r\n\r\n    topReviews() {\r\n        const { stays } = this.props\r\n        const n = 3\r\n\r\n        let staysWithAvg = stays.map(stay => ({\r\n            ...stay, avgRate: stay.reviews.reduce((acc, review) => acc += review.rate, 0) / stay.reviews.length\r\n        }))\r\n        if (n > staysWithAvg.length) {\r\n            return false;\r\n        }\r\n        staysWithAvg = staysWithAvg\r\n            .sort((a, b) => {\r\n                return b.avgRate - a.avgRate\r\n            })\r\n            .slice(0, n)\r\n\r\n        this.setState({ staysToDisplay: staysWithAvg })\r\n    }\r\n\r\n    render() {\r\n        const { staysToDisplay } = this.state\r\n        if (!staysToDisplay) return <div>Loading...</div>\r\n        // const { stays } = this.props\r\n        // const topRated = this.topReviews\r\n        // console.log(topRated);\r\n        return (\r\n\r\n            <section className=\"top-rated\">\r\n                {staysToDisplay.map(stay => <StayPreview key={stay._id}\r\n                    stay={stay} />)}\r\n            </section>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStays,\r\n}\r\n\r\nexport const TopList = connect(mapStateToProps, mapDispatchToProps)(_TopList)","import { StayPreview } from './StayPreview'\r\n\r\nexport function StayList({stays}) {\r\n    return (\r\n        <section className=\"stay-list\">\r\n            {stays.map(stay => <StayPreview key={stay._id}\r\n                stay={stay}/>)}\r\n        </section>\r\n    )\r\n}","import { Component } from 'react'\r\nimport { TextField } from '@material-ui/core'\r\nimport { faSortAlphaDown, faSortNumericDown } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nexport class StayFilterSort extends Component {\r\n\r\n    state = {\r\n        filterBy: {\r\n            searchTxt: '',\r\n            type: 'all',\r\n            price: 'all',\r\n            sortBy: 'all'\r\n        }\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const { name, value } = target\r\n        const { filterBy } = this.state\r\n        this.setState({ filterBy: { ...filterBy, [name]: value } }, () => {\r\n            const { filterBy } = this.state\r\n            // console.log('filterBy',filterBy)\r\n            this.props.onSetFilter(filterBy)\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { searchTxt, type, sortBy } = this.state\r\n        return (\r\n            <div className=\"filter-css\">\r\n                <h1>Places to stay for you</h1>\r\n                <TextField\r\n                    select\r\n                    name=\"type\"\r\n                    size=\"small\"\r\n                    label=\"Type\"\r\n                    color=\"secondary\"\r\n                    value={type}\r\n                    SelectProps={{ native: true }}\r\n                    variant=\"outlined\"\r\n                    onChange={this.handleChange}\r\n                >\r\n                    <option value=\"all\">All</option>\r\n                    <option value=\"Caravan\">Caravan</option>\r\n                    <option value=\"Villa\">Villa</option>\r\n                    <option value=\"Apartment\">Apartment</option>\r\n                    <option value=\"Guesthouse\">Guesthouse</option>\r\n                </TextField>\r\n                <TextField\r\n                    select\r\n                    name=\"sortBy\"\r\n                    size=\"small\"\r\n                    label=\"Sort by\"\r\n                    value={sortBy}\r\n                    color=\"secondary\"\r\n                    SelectProps={{ native: true }}\r\n\r\n                    id=\"outlined-basic\"\r\n                    variant=\"outlined\"\r\n                    // color=\"basic\"\r\n\r\n                    onChange={this.handleChange}\r\n                >\r\n                    <option value=\"name\">Name</option>\r\n                    <option value=\"price\">Price</option>\r\n                </TextField>\r\n                \r\n            </div >\r\n        )\r\n    }\r\n}\r\n","import { connect } from 'react-redux'\r\nimport React from 'react';\r\nimport { StayList } from '../cmps/StayList'\r\nimport { StayFilterSort } from '../cmps/StayFilterSort.jsx'\r\n// import { StayFilterSearch } from '../cmps/StayFilterSearch.jsx'\r\nimport { loadStays } from '../store/actions/stay.actions.js'\r\n\r\nclass _StayApp extends React.Component {\r\n\r\n    async componentDidMount() {\r\n        await this.props.loadStays()\r\n        console.log(this.props)\r\n    }\r\n    \r\n    onSetFilter = (filterBy) => {\r\n        console.log('Stay app filterBy:', filterBy);\r\n        this.props.loadStays(filterBy)\r\n      }\r\n    render() {\r\n        const {stays} = this.props\r\n        return (\r\n            <section>\r\n                <StayFilterSort onSetFilter={this.onSetFilter}/>\r\n                {/* <StayFilterSearch onSetFilter={this.onSetFilter}/> */}\r\n                <StayList stays={stays} />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStays,\r\n}\r\n\r\nexport const StayApp = connect(mapStateToProps, mapDispatchToProps)(_StayApp)","import { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\r\nimport { Component } from 'react';\r\n\r\nclass _GoogleMap extends Component {\r\n\r\n    state = {\r\n        lat: this.props.stay.loc.lat,\r\n        lng: this.props.stay.loc.lng\r\n    }\r\n\r\n    onMapClicked = (props, map, ev) => {\r\n        console.log(\"_GoogleMap ~ ev\", ev)\r\n        console.log(\"_GoogleMap ~ map\", map)\r\n        console.log(\"_GoogleMap ~ props\", props)\r\n        this.setState({ lat: ev.latLng.lat(), lng: ev.latLng.lng() })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"map\">\r\n                    <Map className=\"\"\r\n                        google={this.props.google}\r\n                        zoom={12}\r\n\r\n\r\n                        // {console.log('loc: ', this.props.stay.loc.lat, this.props.stay.loc.lng)}\r\n                        initialCenter={{\r\n\r\n                            lat: this.props.stay.loc.lat,\r\n                            lng: this.props.stay.loc.lng\r\n                        }}\r\n                        center={this.state}\r\n                        onClick={this.onMapClicked}\r\n                    >\r\n\r\n                        <Marker\r\n                            position={this.state}\r\n                            name={'Current location'} />\r\n\r\n                        <InfoWindow\r\n                            visible={true}\r\n                            position={this.state}\r\n                        >\r\n                            <div className=\"marker\">\r\n                                <h1>{\"$\" + this.props.stay.price}</h1>\r\n                            </div>\r\n                        </InfoWindow>\r\n                    </Map>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport const StayMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyACGNqKBdDHLLnHdy2VSH1rGt3_coIbuM4')\r\n    // apiKey: ('AIzaSyCkGXo73iO3SNrjIp9hxptFfE5duOCgKk4')\r\n})(_GoogleMap)\r\n","import { faChevronRight } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nexport function ReviewsDetails({ review ,onOpenReviewModal}) {\r\n    return (\r\n        <div className=\"review \">\r\n            <div className=\"review-sender stay-details-pics\">\r\n                <img className=\"host-avatar\" src={review.by.imgUrl} />\r\n                <h2 className=\"reivew-sender-name\">{review.by.fullname}</h2>\r\n            </div>\r\n            <div className=\"rev-txt\">\r\n                <p>{review.txt}</p>\r\n            </div>\r\n            {/* <div className=\"show-more\">\r\n                <button className=\"show-more-btn\" onClick={onOpenReviewModal}>Show more</button>\r\n                <FontAwesomeIcon className=\"arrow-icon\" icon={faChevronRight} />\r\n            </div> */}\r\n        </div>\r\n    )\r\n}","import {ReviewsDetails} from './ReviewsDetails'\r\nexport function ReviewsList({reviews, onOpenReviewModal}){\r\n    // console.log(reviews)\r\n    return(\r\n        <div className=\"flex wrap\">\r\n            {reviews.map(review=><ReviewsDetails onOpenReviewModal={onOpenReviewModal} review={review} key={review.id}/>)}\r\n        </div>\r\n    )\r\n}","import { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { ReviewsList } from './ReviewsList'\r\nimport { ReviewsStats } from './ReviewsStats'\r\n\r\nexport function ReviewsModal({ reviews, reviewsAvg, closeModal }) {\r\n    // if (!reviews || reviews?.length) return <div>Loading...</div>\r\n    return (\r\n        <div className=\"reviews-modal\">\r\n            <div className=\"modal-header\">\r\n                <FontAwesomeIcon onClick={closeModal} className=\"btn-close\" icon={faTimes} />\r\n                <div className=\"modal-stats\">\r\n                    <ReviewsStats reviews={reviews} reviewsAvg={reviewsAvg} />\r\n                    <input type=\"text\" placeholder=\"Search reviews\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"modal-main\">\r\n                <ReviewsList reviews={reviews} />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { ReviewsList } from './ReviewsList'\r\nimport { ReviewsModal } from './ReviewsModal'\r\nimport { ReviewsStats } from './ReviewsStats'\r\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from 'body-scroll-lock';\r\n\r\n\r\nexport class StayReviews extends React.Component {\r\n\r\n    state = {\r\n        stay: null,\r\n        isModalOpen: false,\r\n    }\r\n\r\n    targetRef = null;\r\n    targetElement = null;\r\n    \r\n\r\n    componentDidMount() {\r\n        // console.log(this.targetRef)\r\n        const {stay} = this.props\r\n        this.setState({ stay },()=>{\r\n            this.targetRef = React.forwardRef(<ReviewsModal ref={this.targetRef} reviews={this.state.stay.reviews} reviewsAvg={this.reviewsAvg} closeModal={this.closeModal}/>);\r\n            this.targetElement = this.targetRef.current;\r\n        })\r\n    }\r\n    reviewsAvg = () => {\r\n        const reviews = this.state.stay.reviews\r\n        const avg = reviews.reduce((acc, review) => acc += review.rate, 0) / reviews.length\r\n        return avg.toFixed(2)\r\n    }\r\n    onOpenReviewModal = () => {\r\n        this.setState({...this.state, isModalOpen:true})\r\n        disableBodyScroll(this.targetElement);\r\n        // return <ReviewsModal reviews={stay.reviews} reviewsAvg={reviewsAvg} />\r\n    }\r\n    \r\n    closeModal =()=>{\r\n        this.setState({...this.state, isModalOpen:false})\r\n        enableBodyScroll(this.targetElement);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearAllBodyScrollLocks();\r\n      }\r\n\r\n\r\n    render() {\r\n        const {stay} = this.state\r\n        // console.log(stay)\r\n        if  (!stay) return <div>Loading...</div>\r\n        return (\r\n            <div className=\"stay-reviews\">\r\n                {/* <ReviewsStats reviews={stay.reviews} reviewsAvg={this.reviewsAvg} /> */}\r\n                <ReviewsList reviews={stay.reviews} onOpenReviewModal={this.onOpenReviewModal}/>\r\n                {this.state.isModalOpen && <ReviewsModal ref={this.targetRef} reviews={stay.reviews} reviewsAvg={this.reviewsAvg} closeModal={this.closeModal}/>}\r\n                <button className=\"show-all-rev-btn\" onClick={this.onOpenReviewModal}>Show all {stay.reviews.length} reviews</button>\r\n                <div className={this.state.isModalOpen ? \"overlay active\" : \"overlay\"} id=\"overlay\" onClick={this.closeModal}></div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n","import { storageService } from './async-storage.service.js'\r\nimport { httpService } from './http.service.js'\r\n\r\nconst data = require('../data/stays.json')\r\n\r\nlet gOrders = data.order\r\nwindow.storageService = storageService;\r\n\r\n// const STOR\r\n\r\nconst axios = require('axios');\r\n\r\n// - // for Deverlop without backend\r\nconst STORAGE_KEY = 'order'\r\n\r\nexport const orderService = {\r\n    query,\r\n    getById,\r\n    remove,\r\n    save,\r\n    \r\n}\r\n\r\n// const BASE_URL = process.env.NODE_ENV === 'production' ? '/api/' : 'http://localhost:3030/api/order'\r\n\r\nfunction query() {\r\n    return httpService.get(`order`)\r\n\r\n    // return storageService.query(STORAGE_KEY).then(orders => {\r\n    //     if (!orders || !orders.length) orders = gOrders\r\n    //     return orders\r\n    // })\r\n    // return axios.get(`${BASE_URL}`).then((res=>res.data))\r\n}\r\n\r\nfunction getById(orderId) {\r\n    // console.log(orderId)\r\n    return httpService.get(`order/${orderId}`)\r\n    // return storageService.get(STORAGE_KEY, orderId)\r\n    // return axios.get(`${BASE_URL}/${orderId}`).then((res => res.data))\r\n}\r\nfunction remove(orderId) {\r\n    return httpService.delete(`order/${orderId}`)\r\n    // return storageService.remove(STORAGE_KEY, stayId)\r\n    // return axios.delete(`${BASE_URL}/${stayId}`).then((res => res.data))\r\n}\r\n\r\n// httpService.put(stay/stayId, stay)\r\n\r\nasync function save(order) {\r\n    if (order._id) {\r\n        return await httpService.put(`order/${order._id}`, order)\r\n        // return storageService.put(STORAGE_KEY, order)\r\n        // return axios.put(`${BASE_URL}`, order).then(res => res.data)\r\n    } else {\r\n        return await httpService.post(`order`, order)\r\n        // return storageService.post(STORAGE_KEY, order)\r\n        // return axios.post(`${BASE_URL}`, order).then(res => res.data)\r\n    }\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nexport default function TableDatePicker(props) {\r\n  const [startDate, setStartDate] = useState(props.startDate || new Date());\r\n  const [endDate, setEndDate] = useState(props.endDate || new Date());\r\n  // console.log(props)\r\n  \r\n  useEffect(() =>{\r\n    props.setDates(startDate, endDate);\r\n  },[startDate, endDate]);\r\n  \r\n  return (\r\n    <div className=\"date-picker\">\r\n      <DatePicker className=\"start-date\"\r\n        selected={startDate}\r\n        selectsStart\r\n        startDate={startDate}\r\n        endDate={endDate}\r\n        onChange={(date) => {\r\n          setStartDate(date)\r\n        }} />\r\n      <DatePicker className=\"end-date\"\r\n        selected={endDate}\r\n        selectsEnd\r\n        startDate={startDate}\r\n        endDate={endDate}\r\n        minDate={startDate}\r\n        onChange={(date) => {\r\n          setEndDate(date)\r\n        }} />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import Alert from '@material-ui/lab/Alert';\r\n// import CheckIcon from '@material-ui/icons/Check';\r\n// import CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function IconAlerts() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {/* <Alert iconMapping={{ success: <CheckCircleOutlineIcon fontSize=\"inherit\" /> }}>\r\n        Your order was submitted successfully\r\n      </Alert> */}\r\n      {/* <Alert variant=\"outlined\" severity=\"success\">\r\n      Your order was submitted successfully\r\n      </Alert> */}\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport IconAlerts from './IconAlerts.jsx'\r\n\r\nfunction rand() {\r\n  return Math.round(Math.random() * 20) - 10;\r\n}\r\n\r\nfunction getModalStyle() {\r\n  const top = 50 + rand();\r\n  const left = 50 + rand();\r\n\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 400,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\nexport default function SimpleModal({loggedInUser}) {\r\n  const classes = useStyles();\r\n  // getModalStyle is not a pure function, we roll the style only on the first render\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper}>\r\n      <h2 id=\"simple-modal-title\"></h2>\r\n      <p id=\"simple-modal-description\">\r\n        {loggedInUser && <p>Your order was submitted successfully!</p>}\r\n        {!loggedInUser && <p>Please Login first</p>}\r\n      </p>\r\n      {/* <SimpleModal /> */}\r\n      <IconAlerts />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <button className=\"btn-btn-save\" onClick={handleOpen}>\r\n        <h2>Reserve</h2>\r\n      </button>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport IconAlerts from './IconAlerts.jsx'\r\n\r\nfunction rand() {\r\n  return Math.round(Math.random() * 20) - 10;\r\n}\r\n\r\nfunction getModalStyle() {\r\n  const top = 50 + rand();\r\n  const left = 50 + rand();\r\n\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 400,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\nexport default function FaildModal() {\r\n  const classes = useStyles();\r\n  // getModalStyle is not a pure function, we roll the style only on the first render\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper}>\r\n      <h2 id=\"simple-modal-title\"></h2>\r\n      <p id=\"simple-modal-description\">\r\n      Please Login first\r\n      </p>\r\n      {/* <SimpleModal /> */}\r\n      <IconAlerts />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <button className=\"btn-btn-save\" onClick={handleOpen}>\r\n        <h2>Reserve</h2>\r\n      </button>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","import { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport SimpleModal from './SimpleModal.jsx'\r\n\r\n\r\n\r\nexport function ChecksModal({price, nightCount, totalPrice, loggedInUser}) {\r\n    // if (!guests || guests?.length) return <div>Loading...</div>\r\n    // console.log(price)\r\n    return (\r\n        <div className=\"guests-modal\">\r\n            <div className=\"checks-modal-header\">\r\n                <SimpleModal loggedInUser={loggedInUser}/>\r\n                <p>You won't get charged yet</p>\r\n                <div className=\"price-calc flex space-between\">\r\n                    <span className=\"underline\">${price} X {nightCount} nights</span>\r\n                    <span>${totalPrice}</span>\r\n                </div>\r\n                <div className=\"service-fee flex space-between\">\r\n                    <span className=\"underline\">Service fee</span>\r\n                    <span>$10</span>\r\n                </div>\r\n                <div className=\"total-price flex space-between\">\r\n                    <span>Total</span>\r\n                    <span>${totalPrice + 10}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { Component } from \"react\";\r\n\r\nexport class Button extends Component {\r\n  render() {\r\n    return <button type=\"button\" className=\"order-guests-btn left-left\" onClick={this.props.action}>{this.props.title}</button>;\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { Component } from 'react';\r\nimport { Button } from './Button.jsx'\r\n\r\n\r\n\r\nexport class AddGuest extends Component {\r\n\r\n    state = {\r\n        guests: {\r\n            adults: 0,\r\n            kids: 0\r\n        }\r\n    }\r\n\r\n    incrementCountAdults = (ev) => {\r\n        ev.stopPropagation()\r\n        this.setState({\r\n            adults: this.state.guests.adults++\r\n        }, () => {\r\n            this.props.setGuests(this.state.guests)\r\n        });\r\n        // console.log('adults', this.state.guests.adults)\r\n    };\r\n\r\n    decrementCountAdutls = (ev) => {\r\n        ev.stopPropagation()\r\n        if (this.state.guests.adults === 0) return\r\n        this.setState({\r\n            adults: this.state.guests.adults--\r\n        }, () => {\r\n            this.props.setGuests(this.state.guests)\r\n        });\r\n        // console.log('adults', this.state.guests.adults)\r\n    };\r\n    incrementCountKids = (ev) => {\r\n        ev.stopPropagation()\r\n        this.setState({\r\n            kids: this.state.guests.kids++\r\n        }, () => {\r\n            this.props.setGuests(this.state.guests)\r\n        });\r\n        // console.log('kids', this.state.guests.kids)\r\n    };\r\n\r\n    decrementCountKids = (ev) => {\r\n        ev.stopPropagation()\r\n        if (this.state.guests.kids === 0) return\r\n        this.setState({\r\n            kids: this.state.guests.kids--\r\n        }, () => {\r\n            this.props.setGuests(this.state.guests)\r\n        });\r\n    };\r\n\r\n\r\n    // handleChange = ({ target }) => {\r\n    //     const { name } = target\r\n    //     const value = + target.value\r\n    //     console.log(this.props)\r\n    //     console.log('name:', name, ' value:', value);\r\n    //     this.setState({ guests: { ...this.state.guests, [name]: value } }, () => {\r\n    //         this.props.setGuests(this.state.guests)\r\n    //         // console.log('added adults', this.state.guests.adults)\r\n    //         console.log('guests', this.state.guests);\r\n    //     })\r\n    // }\r\n\r\n\r\n    render() {\r\n\r\n        const { adults, kids } = this.state.guests\r\n        return (\r\n\r\n\r\n            <div className=\"add-guests-modal\">\r\n                <MenuItem name=\"adults\" value={adults}>\r\n                    <p className=\"guest-title\">Adults</p>\r\n                    <Button title={\"-\"} action={this.decrementCountAdutls} />\r\n                    <span className=\"p-span left-left\">{this.state.guests.adults}</span>\r\n                    <Button title={\"+\"} action={this.incrementCountAdults} />\r\n                </MenuItem>\r\n                \r\n                <MenuItem>\r\n                <p className=\"guest-title\">Kids </p>\r\n                <Button  name=\"kids\" value={kids} title={\"-\"} action={this.decrementCountKids} />\r\n                    <span min=\"0\" className=\"p-span left-left\">{this.state.guests.kids}</span>\r\n                    <Button title={\"+\"} action={this.incrementCountKids} />\r\n                    </MenuItem>\r\n                {/* <MenuItem name=\"infants\" value={0}><button onClick={this.down}>-</button>Infants{this.state.count}<button onClick={this.up}>+</button></MenuItem> */}\r\n            </div>\r\n\r\n\r\n        )\r\n    }\r\n}\r\n\r\n// import * as React from 'react';\r\n// import InputLabel from '@material-ui/core/InputLabel';\r\n// import MenuItem from '@material-ui/core/MenuItem';\r\n// import ListSubheader from '@material-ui/core/ListSubheader';\r\n// import FormControl from '@material-ui/core/FormControl';\r\n// import Select from '@material-ui/core/Select';\r\n// import { Component } from 'react';\r\n\r\n\r\n\r\n// export class GroupedSelect extends Component {\r\n\r\n//     state = {\r\n//         count: 0,\r\n//         guests: {\r\n//             adults: 0,\r\n//             kids: 0\r\n//         }\r\n//     }\r\n//     up = () => {\r\n//         // ev.preventDefault();\r\n//         this.setState({ ...this.state.guests.adults, adults: +1 })\r\n//         // console.log(this.state.count);\r\n//     }\r\n//     down = () => {\r\n//         this.setState({ ...this.state.count, count: -1 })\r\n//         console.log(this.state.count);\r\n//     }\r\n//     handleChangeAdult = ({ target }) => {\r\n//         const { name } = target\r\n//         const value = + target.value\r\n//         console.log('name:', name, ' value:', value);\r\n//         this.setState({ guests: { ...this.state.guests, [name]: value } }, () => {\r\n//             this.props.setGuests(this.state.guests)\r\n//             // console.log('added adults', this.state.guests.adults)\r\n//             console.log('guests', this.state.guests);\r\n//         })\r\n//     }\r\n//     // handleChangeKids = ({ target }) => {\r\n//     //     const { name } = target\r\n//     //     const value = (name === 'kids') ? +target.value : target.value\r\n//     //     console.log('name:', name, ' value:', value);\r\n//     //     this.setState({ guests: { ...this.props.guests, [name]: value } }, () => {\r\n//     //         this.props.setKids(this.state.guests.kids)\r\n//     //         console.log('added kids', this.state.guests.kids)\r\n//     //     })\r\n//     // }   \r\n\r\n\r\n\r\n//     render() {\r\n//         const { adults, kids } = this.state.guests\r\n//         return (\r\n//             <div className=\"add-guests\">\r\n//                 {/* <form className=\"add-guests-form\"> */}\r\n//                 <p>Adults:</p>\r\n//                 <input type=\"text\" name=\"adults\" placeholder=\"adults\"\r\n//                     value={adults} onChange={this.handleChangeAdult} required />\r\n//                 <p>Kids:</p>\r\n//                 <input type=\"text\" name=\"kids\" placeholder=\"kids\"\r\n//                     value={kids} onChange={this.handleChangeAdult} required />\r\n//                 {/* </form> */}\r\n//             </div >\r\n//         )\r\n//     }\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n{/* <div className=\"add-guests\">\r\n    <select name=\"type\" value={type} onChange={this.handleChange} required>\r\n        <option value=\"\" disabled selected>Guests</option>\r\n                            <option value=\"Adults\">Adults</option>\r\n                            <option value=\"Kids\">Kids</option>\r\n    </select>\r\n</div > */}","import { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { AddGuest } from './AddGuest.jsx'\r\n\r\n\r\n\r\nexport function GuestsModal(props) {\r\n    // if (!guests || guests?.length) return <div>Loading...</div>\r\n    // console.log('geust', props)\r\n    return (\r\n        <div className=\"guests-modal\">\r\n            <div className=\"modal-header\">\r\n                <FontAwesomeIcon onClick={props.closeModal} className=\"btn-close\" icon={faTimes} />\r\n                <AddGuest setGuests={props.setGuests}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { connect } from 'react-redux'\r\n\r\nimport React from 'react';\r\n\r\nimport { saveOrder } from '../../store/actions/order.actions.js'\r\nimport TableDatePicker from './DatePicker.jsx'\r\nimport SimpleModal from './SimpleModal.jsx'\r\nimport FaildModal from './FaildModal.jsx'\r\nimport { ChecksModal } from './ChecksModal.jsx'\r\nimport { GroupedSelect } from './AddGuest.jsx'\r\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from 'body-scroll-lock';\r\nimport { GuestsModal } from './GuestsModal'\r\n\r\n\r\n\r\nexport class _AddOrder extends React.Component {\r\n    state = {\r\n        isModalOpen: false,\r\n        isModalCheckOpen: false,\r\n        order: {\r\n            hostId: this.props.stay.host._id,\r\n            createdAt: new Date(Date.now()),\r\n            buyer: {\r\n                _id: (!this.props.loggedInUser) ? '' : this.props.loggedInUser._id,\r\n                fullname: (!this.props.loggedInUser) ? '' : this.props.loggedInUser.fullname,\r\n            },\r\n            startDate: 0,\r\n            endDate: 0,\r\n            nightCount: 0,\r\n            totalPrice: 0,\r\n            guests: {\r\n                adults: 0,\r\n                kids: 0\r\n            },\r\n            stay: {\r\n                _id: this.props.stay._id,\r\n                name: this.props.stay.name,\r\n                price: this.props.stay.price\r\n            },\r\n            status: 'Pending'\r\n        }\r\n    }\r\n\r\n    \r\n    componentDidMount() {\r\n        // this.props.saveOrder()\r\n        // console.log('do we det stays', this.props.stay.price)\r\n        \r\n    }\r\n\r\n    calcTotalPrice = (nightCount) => {\r\n        const nightPrice = this.props.stay.price\r\n        const totalPrice = nightPrice * nightCount\r\n        return totalPrice\r\n    }\r\n\r\n    getTripTime = (startDate, endDate) => {\r\n        const diff = new Date(endDate).getTime() - new Date(startDate).getTime()\r\n        return diff / 1000 / 60 / 60 / 24\r\n    }\r\n\r\n    setDates = (startDate, endDate) => {\r\n        let nightCount = this.getTripTime(startDate, endDate)\r\n        if (nightCount < 0) nightCount = 0\r\n        console.log('night count:', nightCount);\r\n        const totalPrice = this.calcTotalPrice(nightCount)\r\n        console.log('total price:', totalPrice);\r\n        this.setState({ order: { ...this.state.order, startDate, endDate, nightCount, totalPrice } })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const field = target.name;\r\n        const value = target.type === \"radio\" ? +target.value : target.value;\r\n        this.setState((prevState) => ({\r\n            ...prevState,\r\n            order: {\r\n                ...prevState.order,\r\n                [field]: value,\r\n            },\r\n        }));\r\n    };\r\n\r\n    onSaveOrder = (ev) => {\r\n        ev.preventDefault();\r\n        // console.log('savedOrder',!this.props.loggedInUser)\r\n        if (this.props.loggedInUser) {\r\n\r\n            \r\n            this.props.saveOrder(this.state.order);\r\n            this.setState({ order: { ...this.state.order, startDate: '', endDate: '' } })\r\n            this.setGuests({ order: { ...this.state.order, guests: { adults: 0, kids: 0 } } })\r\n        } else {\r\n            return;\r\n        }\r\n        // console.log(this.state.order)\r\n        // this.props.loadOrders();\r\n        // this.props.history.push('/stay');\r\n    }\r\n\r\n    setGuests = (guests) => {\r\n        this.setState({ order: { ...this.state.order, guests } })\r\n    }\r\n\r\n    onOpenGuestsModal = (ev) => {\r\n        ev.stopPropagation()\r\n        this.setState({ ...this.state, isModalOpen: true })\r\n    }\r\n    onOpenCheckModal = () => {\r\n\r\n        this.setState({ ...this.state, isModalCheckOpen: true })\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ ...this.state, isModalOpen: false })\r\n    }\r\n\r\n    render() {\r\n        // const { stays } = this.props\r\n        // const startDate = this.state.stay?.order.startDate\r\n        // const endDate = this.state.stay?.order.endDate\r\n        const price = this.props.stay.price\r\n        const loggedInUser = this.props.loggedInUser\r\n        const { startDate, endDate, nightCount, totalPrice } = this.state.order\r\n        return (\r\n            <section>\r\n                <form className=\"trip-form\" onSubmit={this.onSaveOrder}>\r\n                    <TableDatePicker setDates={this.setDates} startDate={startDate} endDate={endDate} />\r\n                    {/* <GroupedSelect setGuests={this.setGuests} /> */}\r\n                    <button type=\"button\" className=\"guests-btn\" onClick={this.onOpenGuestsModal}>Guests</button>\r\n                    {this.state.isModalOpen && <GuestsModal setGuests={this.setGuests} closeModal={this.closeModal} />}\r\n                    {/* <div className={this.state.isModalOpen ? \"overlay active\" : \"overlay\"} id=\"overlay\" onClick={this.closeModal}></div> */}\r\n\r\n                    <button type=\"button\" className=\"btn-btn-save\" onClick={this.onOpenCheckModal} style={{ display: !this.state.isModalCheckOpen ? 'block' : 'none' }}><h2>Check availability</h2></button>\r\n                    {this.state.isModalCheckOpen && <ChecksModal loggedInUser={loggedInUser} price={price} nightCount={nightCount} totalPrice={totalPrice} />}\r\n                    {/* {console.log(price)} */}\r\n\r\n                    {/* <SimpleModal className=\"btn-btn-save\" /> */}\r\n                </form>\r\n            </section>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        orders: state.orderModule.orders,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    saveOrder,\r\n}\r\n\r\nexport const AddOrder = connect(mapStateToProps, mapDispatchToProps)(_AddOrder)\r\n","import { orderService } from '../../services/orderService.js'\r\n\r\n\r\n// export function saveOrder(order) { // Action Creator\r\n//     return dispatch => {\r\n//         return orderService.save(order)\r\n//         .then((savedOrder) => {\r\n//             if(!order._id) dispatch({ type: 'ADD_ORDER', order: savedOrder })\r\n//             else dispatch({ type: 'UPDATE_ORDER', order: savedOrder })\r\n//             console.log(savedOrder)\r\n//             })\r\n//     }\r\n// }\r\n\r\nexport function saveOrder(order) { // Action Creator\r\n    return async dispatch => {\r\n        try {\r\n            const savedOrder = await orderService.save(order)\r\n            const action = {\r\n                type: 'ADD_ORDER',\r\n                order: savedOrder\r\n            }\r\n            dispatch(action)\r\n        } catch (err) {\r\n            console.log('Error in orderActions on save :', err);\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadOrders() { // Action Creator\r\n    return dispatch => {\r\n        dispatch({ type: 'LOADING_ORDERS', isLoading: true })\r\n        return orderService.query()\r\n            .then(orders => {\r\n                const action = {\r\n                    type: 'SET_ORDERS',\r\n                    orders\r\n                }\r\n                dispatch(action)\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                dispatch({ type: 'ORDER_ERR', err })\r\n            })\r\n    }\r\n}","import { connect } from 'react-redux'\r\n\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport { removeStay, saveStay, setSelectedStay, /*onAddToCart*/ } from '../store/actions/stay.actions.js'\r\nimport { stayService } from '../services/stay.service.js'\r\nimport { ReviewsStats } from '../cmps/ReviewsStats'\r\n\r\nimport { StayMap } from '../cmps/StayMap'\r\nimport { StayReviews } from '../cmps/StayReviews'\r\nimport { AddOrder } from '../cmps/AddOrder/AddOrder.jsx'\r\nimport { Divider } from '@material-ui/core';\r\n\r\nimport { faWifi, faTv, faSnowflake, faSmoking, faPaw, faUtensils, faBed, faRecycle, faMusic, faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nclass _StayDetails extends React.Component {\r\n\r\n    state = {\r\n        stay: null,\r\n        isEditMode: false\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        // console.log(state.stay)\r\n        this.loadStay()\r\n        // this.props.loadReviews()\r\n    }\r\n\r\n    loadStay = () => {\r\n        const { stayId } = this.props.match.params\r\n        stayService.getById(stayId)\r\n            .then(stay => {\r\n                this.setState({ stay })\r\n            })\r\n    }\r\n    handleChange = ({ target }) => {\r\n        const { name } = target\r\n        const { value } = target\r\n        this.setState({ stay: { ...this.state.stay, [name]: value } })\r\n    }\r\n\r\n    onUpdateStay = () => {\r\n        this.props.updateStay(this.state.stay)\r\n        this.toggleEditMode()\r\n    }\r\n\r\n\r\n    toggleEditMode = () => {\r\n        this.setState({ isEditMode: !this.state.isEditMode })\r\n    }\r\n\r\n    loadPic = (imgUrls) => {\r\n        for (var i = 0; i < 5; i++) {\r\n            return <img src={imgUrls[i]} />\r\n        }\r\n    }\r\n    reviewsAvg = () => {\r\n        const { stay } = this.state\r\n        const avg = stay.reviews.reduce((acc, review) => acc += review.rate, 0) / stay.reviews.length\r\n        return avg.toFixed(1)\r\n    }\r\n\r\n    \r\n    // onRemoveStay = () => {\r\n    //     const { removeStay, stayToShow, history } = this.props\r\n    //     removeStay(stayToShow._id)\r\n    //         .then(() => {\r\n    //             history.push('/stay')\r\n    //         })\r\n    // }\r\n\r\n    render() {\r\n        // const { user, stayToShow, isLoading, err } = this.props\r\n        const { stay, isEditMode } = this.state\r\n        if (!stay) return <p>Loading...</p>\r\n        return (\r\n            <div className=\"stay-details flex column\">\r\n                <p className=\"details-stay-name\">{stay.name}</p>\r\n                <section className=\"details-stay-info\">\r\n                    {stay.reviews?.length && <ReviewsStats reviews={stay.reviews} reviewsAvg={this.reviewsAvg} />}\r\n                    <span className=\"details-stay-location\">{stay.loc.address}</span>\r\n                </section>\r\n                <section className=\"details-stay-imgs\">\r\n                    {stay.imgUrls.map(src => <img src={src} className=\"stay-img\" />)}\r\n                    {/* <img src={stay.imgUrls[0]} />\r\n                    <img src={stay.imgUrls[1]} />\r\n                    <img src={stay.imgUrls[2]} /> */}\r\n                </section>\r\n                <div className=\"booking-modal-container flex\">\r\n                    <div className=\"booking-details-container\">\r\n                        <div className=\"top-details flex\">\r\n                            <div>\r\n                                <h1>{stay.type} hosted by {stay.host.fullname}</h1>\r\n                                <h5>{stay.capacity} guests   {stay.bedroom} bedroom  {stay.bath} bath</h5>\r\n                            </div>\r\n                            <img className=\"host-avatar\" src={stay.host.imgUrl} />\r\n                        </div>\r\n                        <div className=\"summary\">\r\n                            <h1>About us</h1>\r\n                            <p className=\"sum-span\">{stay.summary}</p>\r\n                        </div>\r\n                        <div className=\"slep-arr-container\">\r\n                            <h1>Sleeping arrangements</h1>\r\n                            <div className=\"slep-arr\">\r\n                                <p className=\"arr-icon\"><FontAwesomeIcon icon={faBed} /></p>\r\n                                <p className=\"arr-icon2\">Bedroom {stay.bedroom}</p>\r\n                                <p>{stay.bedroom} double bed</p>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"amen-container\">\r\n\r\n                            <h1 className=\"amen-title\">Amenities</h1>\r\n                            <ul >\r\n                                <div className=\"amenities\">\r\n                                    <li><FontAwesomeIcon icon={faWifi} /><span>Wifi</span>  </li>\r\n                                    <li><FontAwesomeIcon icon={faTv} /> <span>TV</span> </li>\r\n                                    <li><FontAwesomeIcon icon={faSnowflake} /> <span>Air-conditioning</span> </li>\r\n                                    <li><FontAwesomeIcon icon={faSmoking} /> <span>Smoking allowed</span> </li>\r\n                                    <li><FontAwesomeIcon icon={faPaw} /> <span>Pets allowed</span> </li>\r\n                                    <li><FontAwesomeIcon icon={faUtensils} /> <span>Cooking basics</span> </li>\r\n                                    <li><FontAwesomeIcon icon={faRecycle} /> <span>Environmentally friendly</span> </li>\r\n                                    <li><FontAwesomeIcon icon={faMusic} /> <span>Surround sound system</span> </li>\r\n                                </div>\r\n\r\n                            </ul>\r\n                            {/* {stay.amenities.map(src => <li>{src}</li>)} */}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"order-container flex\">\r\n                        <div className=\"order-top flex\">\r\n                            <div className=\"price\">\r\n                                <p className=\"price-num\">${stay.price}</p> <p> / night</p>\r\n\r\n                            </div>\r\n                            {stay.reviews?.length && <ReviewsStats reviews={stay.reviews} reviewsAvg={this.reviewsAvg} />}\r\n                        </div>\r\n                        <AddOrder stay={stay} />\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                {stay.reviews?.length &&\r\n                    <div className=\"reviews\">\r\n                        <h2>{stay.reviews?.length && <ReviewsStats reviews={stay.reviews} reviewsAvg={this.reviewsAvg} />}</h2>\r\n                        <div className=\"reviews-rate\">\r\n                            <div className=\"rev-layout\">\r\n                                <div className=\"rev-stats\">\r\n                                    <div className=\"rev-subj\">Cleanliness</div>\r\n                                    <div className=\"meter-container\">\r\n                                        <div className=\"meter-bcg1\"><div className=\"meter1\"></div></div>\r\n                                        <span className=\"meter-rate\">4.8</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"rev-stats\">\r\n                                    <div className=\"rev-subj\">Communication</div>\r\n                                    <div className=\"meter-container\">\r\n                                    <div className=\"meter-bcg3\"><div className=\"meter3\"></div></div>\r\n                                        <span className=\"meter-rate\">4.6</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"rev-stats\">\r\n                                    <div className=\"rev-subj\">Check-in</div>\r\n                                    <div className=\"meter-container\">\r\n                                    <div className=\"meter-bcg3\"><div className=\"meter3\"></div></div>\r\n                                        <span className=\"meter-rate\">4.6</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"rev-stats\">\r\n                                    <div className=\"rev-subj\">Accuracy</div>\r\n                                    <div className=\"meter-container\">\r\n                                    <div className=\"meter-bcg2\"><div className=\"meter2\"></div></div>\r\n                                        <span className=\"meter-rate\">4.7</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"rev-stats\">\r\n                                    <div className=\"rev-subj\">Location</div>\r\n                                    <div className=\"meter-container\">\r\n                                    <div className=\"meter-bcg1\"><div className=\"meter1\"></div></div>\r\n                                        <span className=\"meter-rate\">4.8</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"rev-stats\">\r\n                                    <div className=\"rev-subj\">Value</div>\r\n                                    <div className=\"meter-container\">\r\n                                    <div className=\"meter-bcg2\"><div className=\"meter2\"></div></div>\r\n                                        <span className=\"meter-rate\">4.7</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                        <StayReviews stay={stay} />\r\n                    </div>}\r\n                <div className=\"map-container\">\r\n                    <h1>Loction</h1>\r\n                    <StayMap className=\" stay-map\" stay={stay} />\r\n                </div>\r\n\r\n                {/* <h1>{stay}</h1> */}\r\n                {/* {isLoading && <p>Loading...</p>}\r\n                {err && <p>ERROR: {err}</p>}\r\n                <img src={stayToShow.img} alt=\"img\"/>\r\n                <h2>{stayToShow.name}</h2>\r\n                <p>Price: {stayToShow.price}</p>\r\n                <p>Date Added: {new Date(stayToShow.createdAt).toLocaleDateString(\"en-GB\")}</p>\r\n                <p>Updated date: {new Date(stayToShow.updatedAt).toLocaleDateString(\"en-GB\")}</p>\r\n                <p>{(stayToShow.onStock)?'in Stock' : 'Out of stock'}</p>\r\n                <div className=\"controler flex space-around\">\r\n                    {user && !user.isAdmin && <button>add to Cart</button>}\r\n                    {user && user.isAdmin && \r\n                    <button onClick={this.onRemoveStay}>remove</button>}\r\n                    {user && user.isAdmin && \r\n                    <Link to=\"/stay/edit\" onClick={()=> setSelectedStay(stayToShow._id)}>Edit</Link>}\r\n                    <Link to=\"/stay\">Back</Link>\r\n                </div>\r\n                <hr /> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({ stayModule }) {\r\n    return {\r\n        // user: state.appModule.loggedinUser,\r\n        // isLoading: state.stayModule.isLoading,\r\n        // err: state.stayModule.err,\r\n        stays: stayModule.stays,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    removeStay,\r\n    saveStay,\r\n    setSelectedStay,\r\n}\r\nexport const StayDetails = connect(mapStateToProps, mapDispatchToProps)(_StayDetails)","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEnvelopeRegular(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"far\",\n    \"data-icon\": \"envelope\",\n    className: \"svg-inline--fa fa-envelope fa-w-16\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEnvelopeRegular);\nexport default __webpack_public_path__ + \"static/media/envelope-regular.7237e68b.svg\";\nexport { ForwardRef as ReactComponent };","export function UserInbox() {\r\n    return (\r\n        <section className=\"user-inbox\">\r\n            <h1>USER INBOX</h1>\r\n        </section>\r\n    )\r\n}","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPhoneSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"phone\",\n    className: \"svg-inline--fa fa-phone fa-w-16\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPhoneSolid);\nexport default __webpack_public_path__ + \"static/media/phone-solid.ac5f8fa5.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\n// import TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { loadOrders } from '../store/actions/order.actions'\r\nimport {ReactComponent as Envelope} from '../assets/img/icons/envelope-regular.svg'\r\nimport {ReactComponent as Phone} from '../assets/img/icons/phone-solid.svg'\r\nimport tr from 'date-fns/esm/locale/tr/index.js';\r\n\r\nclass _BookingTable extends React.Component {\r\n\r\n    state = {\r\n        ordersToDisplay: []\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.props.loadOrders()\r\n        const { orders } = this.props\r\n        console.log(orders);\r\n        const ordersToDisplay = orders.filter(order => order.stay._id === this.props.stayId)\r\n        this.setState({ ordersToDisplay })\r\n    }\r\n\r\n    getFormatDate = (timstamp) => {\r\n        const date = new Date(timstamp).toLocaleDateString('he-IL')\r\n        return date\r\n    }\r\n\r\n    render() {\r\n        const { ordersToDisplay } = this.state\r\n        return (\r\n            <div className=\"table-container\">\r\n                <table >\r\n                    <thead>\r\n                        <tr>\r\n\r\n                        <th className=\"t-name\">Guest Name</th>\r\n                        <th className=\"t-guests\">Guests</th>\r\n                        <th>Check In</th>\r\n                        <th>Check Out</th>\r\n                        <th>Contact</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {ordersToDisplay.map(order => {\r\n                            return (\r\n                                <tr key={order._id}>\r\n                                    <td className=\"t-name\">{order.buyer.fullname}</td>\r\n                                    <td className=\"t-guests\">{parseInt(order.guests.adults) + parseInt(order.guests.kids)}</td>\r\n                                    <td>{this.getFormatDate(order.startDate)}</td>\r\n                                    <td>{this.getFormatDate(order.endDate)}</td>\r\n                                    <td><Envelope/><Phone/></td>\r\n                                </tr>\r\n                            )\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        orders: state.orderModule.orders,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadOrders,\r\n}\r\n\r\nexport const BookingTable = connect(mapStateToProps, mapDispatchToProps)(_BookingTable)","import { Link } from 'react-router-dom'\r\nimport { BookingTable } from './BookingTable.jsx'\r\n// import { ImgsCarousel } from './ImgsCarousel'\r\n// import { ReviewsStats } from './ReviewsStats'\r\n\r\nexport function UserStayPreview({ stay }) {\r\n\r\n    // function reviewsAvg() {\r\n    //     const avg = stay.reviews.reduce((acc, review) => acc += review.rate, 0) / stay.reviews.length\r\n    //     return avg.toFixed(1)\r\n    // }\r\n\r\n    if (!stay) return <div>Loading...</div>\r\n\r\n    return (\r\n        <div className=\"user-stay-preview\">\r\n                <div className=\"user-stay-header\">\r\n                    <p><span className=\"medium\">Name: </span>{stay.name}</p>\r\n                    <p><span  className=\"medium\">Type: </span>{stay.type} in {stay.loc.address}</p>\r\n                </div>\r\n                <div className=\"user-stay-content\">\r\n\r\n            <Link to={'/stay/' + stay._id}>\r\n                <img src={stay.imgUrls[0]} alt=\"stay img\" />\r\n            </Link>\r\n                <BookingTable stayId={stay._id}/>\r\n                </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { Bar} from 'react-chartjs-2';\r\n\r\nconst labels = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\r\n//\r\nexport const StayStatistics = () => {\r\n\r\n    const data = {\r\n        labels: labels,\r\n        datasets: [{\r\n            label: 'Total Bookings',\r\n            data: [17, 19, 9, 7, 6, 13, 15, 17, 12, 19, 23, 22],\r\n            backgroundColor: [\r\n                'rgba(255, 99, 132, 0.2)',\r\n                'rgba(255, 159, 64, 0.2)',\r\n                'rgba(255, 205, 86, 0.2)',\r\n                'rgba(75, 192, 192, 0.2)',\r\n                'rgba(54, 162, 235, 0.2)',\r\n                'rgba(153, 102, 255, 0.2)',\r\n            ],\r\n            borderColor: [\r\n                'rgb(255, 99, 132)',\r\n                'rgb(255, 159, 64)',\r\n                'rgb(255, 205, 86)',\r\n                'rgb(75, 192, 192)',\r\n                'rgb(54, 162, 235)',\r\n                'rgb(153, 102, 255)',\r\n            ],\r\n            borderWidth: 1\r\n        }]\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Bar data={data} />\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\n","import { connect } from 'react-redux'\r\nimport React from 'react';\r\nimport { loadStays } from '../store/actions/stay.actions.js'\r\nimport { UserStayPreview } from './UserStayPreview'\r\nimport { StayStatistics } from './StayStatistics'\r\n\r\nclass _UserStaysList extends React.Component {\r\n\r\n    state = {\r\n        staysToDisplay: [],\r\n        loggedInUser: this.props.loggedInUser\r\n    }\r\n\r\n    async componentDidMount() {\r\n        console.log(\"hi\")\r\n        const stays = await this.props.loadStays()\r\n        this.currentUserStays()\r\n    }\r\n\r\n    currentUserStays = () => {\r\n        const { stays } = this.props\r\n        const staysToDisplay = stays.filter(stay => stay.host._id === this.state.loggedInUser._id)\r\n        this.setState({ staysToDisplay })\r\n    }\r\n\r\n    render() {\r\n        const { staysToDisplay, loggedInUser } = this.state\r\n        if (!staysToDisplay || !loggedInUser) return <div>Loading...</div>\r\n        if (!loggedInUser.isHost) return <div>please become a host and publish stay</div>\r\n\r\n        return (\r\n            <div className=\"stays-info\">\r\n                <section className=\"host-chart\">\r\n                    <StayStatistics />\r\n\r\n                </section>\r\n                <section className=\"user-stays\">\r\n                    {staysToDisplay.map(stay => <UserStayPreview key={stay._id}\r\n                        stay={stay} />)}\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n        loggedInUser: state.userModule.loggedInUser,\r\n        // orders: state.orderModule.loggedInUser,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStays,\r\n}\r\n\r\nexport const UserStaysList = connect(mapStateToProps, mapDispatchToProps)(_UserStaysList)","import { UserStaysList } from \"./UserStaysList\";\r\n\r\nexport function UserStats() {\r\n    return (\r\n        <UserStaysList />\r\n    )\r\n}","import React from 'react'\r\nimport { NavLink, Route, Switch } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { StayAdd } from '../cmps/StayAdd'\r\nimport { UserInbox } from '../cmps/UserInbox'\r\nimport { UserStats } from '../cmps/UserStats'\r\nimport { StayStatistics } from '../cmps/StayStatistics'\r\n\r\nclass _UserProfile extends React.Component {\r\n    state = {\r\n        component: 'myStays'\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const { value } = target\r\n        console.log('value', value);\r\n        // this.setState( stay.component: value )\r\n        this.setState({ component: value })\r\n        console.log(this.state.component)\r\n    }\r\n\r\n    render() {\r\n        const { component } = this.state\r\n        const { loggedInUser } = this.props\r\n        return (\r\n            <div className=\"profile-container\">\r\n                <nav className=\"profile-nav  flex\" >\r\n                    <button value=\"myStays\" onClick={this.handleChange}>My Stays</button>\r\n                    <button value=\"inbox\" onClick={this.handleChange}>Inbox</button>\r\n                    <button value=\"add\" onClick={this.handleChange}>Add Listing</button>\r\n                </nav>\r\n                <div className=\"profile-content\">\r\n                <div className=\"user-card\">\r\n                    <h5>{loggedInUser.fullname}</h5>\r\n                    <img className=\"user-avatar\" src={loggedInUser.imgUrl} alt=\"user photo\" />\r\n                    <h6>Update Photo</h6>\r\n                </div>\r\n\r\n                {component === 'inbox' && <UserInbox />}\r\n                {component === 'myStays' && <UserStats />}\r\n                {component === 'add' && <StayAdd />}\r\n                {/* {component === 'Statistics' && <StayStatistics />} */}\r\n                </div>\r\n\r\n                \r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n        loggedInUser: state.userModule.loggedInUser,\r\n    }\r\n}\r\n\r\n\r\nexport const UserProfile = connect(mapStateToProps)(_UserProfile)","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAirbnb(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fab\",\n    \"data-icon\": \"airbnb\",\n    className: \"svg-inline--fa fa-airbnb fa-w-14\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M224 373.12c-25.24-31.67-40.08-59.43-45-83.18-22.55-88 112.61-88 90.06 0-5.45 24.25-20.29 52-45 83.18zm138.15 73.23c-42.06 18.31-83.67-10.88-119.3-50.47 103.9-130.07 46.11-200-18.85-200-54.92 0-85.16 46.51-73.28 100.5 6.93 29.19 25.23 62.39 54.43 99.5-32.53 36.05-60.55 52.69-85.15 54.92-50 7.43-89.11-41.06-71.3-91.09 15.1-39.16 111.72-231.18 115.87-241.56 15.75-30.07 25.56-57.4 59.38-57.4 32.34 0 43.4 25.94 60.37 59.87 36 70.62 89.35 177.48 114.84 239.09 13.17 33.07-1.37 71.29-37.01 86.64zm47-136.12C280.27 35.93 273.13 32 224 32c-45.52 0-64.87 31.67-84.66 72.79C33.18 317.1 22.89 347.19 22 349.81-3.22 419.14 48.74 480 111.63 480c21.71 0 60.61-6.06 112.37-62.4 58.68 63.78 101.26 62.4 112.37 62.4 62.89.05 114.85-60.86 89.61-130.19.02-3.89-16.82-38.9-16.82-39.58z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAirbnb);\nexport default __webpack_public_path__ + \"static/media/airbnb.455dc7c6.svg\";\nexport { ForwardRef as ReactComponent };","import { SignIn } from './cmps/SignIn.jsx'\r\nimport { StayAdd } from './cmps/StayAdd.jsx'\r\nimport { Home } from './pages/Home.jsx'\r\n// import { About } from './pages/About.jsx'\r\nimport { StayApp } from './pages/StayApp.jsx'\r\nimport { StayDetails } from './pages/StayDetails.jsx'\r\nimport { UserProfile } from './pages/UserProfile.jsx'\r\n\r\nexport const routes = [\r\n    {\r\n        path: '/',\r\n        component: Home,\r\n    },\r\n    {\r\n        path: '/stay',\r\n        component: StayApp,\r\n    },\r\n    {\r\n        path: '/stay/:stayId',\r\n        component: StayDetails,\r\n    },\r\n    {\r\n        path: '/user',\r\n        component: UserProfile,\r\n    },\r\n    {\r\n        path: '/login',\r\n        component: SignIn,\r\n    },\r\n    // {\r\n    //     path: '/about',\r\n    //     component: About,\r\n    // }\r\n]","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport newYorkImg from '../assets/img/new-york.jpg'\r\nimport rioImg from '../assets/img/rio.jpg'\r\nimport sydneyImg from '../assets/img/sydney.jpg'\r\nimport { TopList } from '../cmps/TopList';\r\n\r\nexport function Home() {\r\n    return (\r\n        <div className=\"home main-layout.full\">\r\n            {/* <h1 className=\"mb-4\">Welcome to HomeME</h1> */}\r\n            <div className=\"hero main-layout\">\r\n\r\n                {/* <p>Your new HomeMe</p> */}\r\n                <p className=\"hero-txt\">Home is everywhere</p>\r\n\r\n            </div>\r\n\r\n            {/* <h3 className=\"mb-4\">\r\n                <Link to=\"/stay\">Explore HomeME</Link>\r\n            </h3> */}\r\n            <div className=\"main-layout\">\r\n\r\n\r\n                <h1>Popular Destinations</h1>\r\n                <div className=\"popular-destinations\">\r\n                    <div className=\"new-york\">\r\n                        <img src={newYorkImg} alt=\"\" />\r\n                        <p>New York</p>\r\n                    </div>\r\n                    <div className=\"sydney\">\r\n                        <img src={sydneyImg} alt=\"\" />\r\n                        <p>Sydney</p>\r\n                    </div>\r\n                    <div className=\"rio\">\r\n                        <img src={rioImg} alt=\"\" />\r\n                        <p>Rio de Janeiro</p>\r\n                    </div>\r\n                </div>\r\n                <h1>Top Rated</h1>\r\n                <section>\r\n                    <TopList/>\r\n                </section>\r\n                {/* <div className=\"popular-destinations\">\r\n                    <div className=\"new-york\">\r\n                        <img src={newYorkImg} alt=\"\" />\r\n                        <p>New York</p>\r\n                    </div>\r\n                    <div className=\"sydney\">\r\n                        <img src={sydneyImg} alt=\"\" />\r\n                        <p>Sydney</p>\r\n                    </div>\r\n                    <div className=\"rio\">\r\n                        <img src={rioImg} alt=\"\" />\r\n                        <p>Rio de Janeiro</p>\r\n                    </div>\r\n                </div> */}\r\n                <div className=\"explore-banner\">\r\n                    <p>Home is where you'll be</p>\r\n                    <button><Link exact to=\"/stay\">Explore</Link></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n","\r\nexport function Footer() {\r\n    return (\r\n        <div className=\"main-layout main-footer\">\r\n\r\n            <footer className=\"footer-content\">\r\n                <h1 className=\"logo\">HomeMe</h1>\r\n                <small> 2021 HomeMe, Inc.</small>\r\n                <ul class=\"social-nav justify-content \">\r\n                    <a class=\"fa twitter \" href=\"http://twitter.com \" target=\"_blank \"></a>\r\n                    <a class=\"fa facebook \" href=\"http://facebook.com \" target=\"_blank \"></a>\r\n                    <a class=\"fa instegram \" href=\"http://instegram.com \" target=\"_blank \"></a>\r\n                </ul>\r\n\r\n            </footer>\r\n\r\n        </div>\r\n    )\r\n}","import { Component } from 'react'\r\nimport { TextField } from '@material-ui/core'\r\nimport { faSortAlphaDown, faSortNumericDown } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nexport class StayFilterSearch extends Component {\r\n\r\n    state = {\r\n        filterBy: {\r\n            searchTxt: '',\r\n            type: 'all',\r\n            price: 'all',\r\n            sortBy: 'all'\r\n        }\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const { name, value } = target\r\n        const { filterBy } = this.state\r\n        this.setState({ filterBy: { ...filterBy, [name]: value } }, () => {\r\n            const { filterBy } = this.state\r\n            // console.log('filterBy',filterBy)\r\n            this.props.onSetFilter(filterBy)\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { searchTxt, type, sortBy } = this.state\r\n        return (\r\n            <div className=\"_1xq16jy\">\r\n                {/* <TextField\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    name=\"searchTxt\"\r\n                    color=\"secondary\"\r\n                    autoComplete=\"off\"\r\n                    value={searchTxt}\r\n                    onChange={this.handleChange}\r\n                /> */}\r\n        <input className=\"_1xq16jy\"  autoComplete=\"off\" type=\"text\" name=\"searchTxt\" value={searchTxt} placeholder=\"Where are you going?\" onChange={this.handleChange} />\r\n            </div >\r\n          \r\n        )\r\n    }\r\n}\r\n\r\n","import SearchIcon from '@material-ui/icons/Search';\r\nimport { DatePicker } from './DatePicker'\r\nimport TableDatePicker from './AddOrder/DatePicker.jsx'\r\nimport { StayFilterSearch } from './StayFilterSearch.jsx'\r\nimport { loadStays } from '../store/actions/stay.actions.js'\r\nimport React from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\n\r\n\r\n\r\nclass _HeaderFilter extends React.Component {\r\n\r\n    state = {\r\n        order: {\r\n            startDate: '',\r\n            endDate: '',\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        await this.props.loadStays()\r\n        \r\n    }\r\n    onSetFilter = (filterBy) => {\r\n        console.log('Stay app filterBy:', filterBy);\r\n        this.props.loadStays(filterBy)\r\n    }\r\n\r\n    setDates = (start, end) => {\r\n        // this.props.saveOrder(order);\r\n        this.setState({ order: { ...this.state.order, startDate: start, endDate: end } })\r\n    }\r\n\r\n    render() {\r\n        const startDate = this.state.stay?.order.startDate\r\n        const endDate = this.state.stay?.order.endDate\r\n        return (\r\n            <form className=\"_1keztfl\" action=\"/s/all\" method=\"get\" role=\"search\">\r\n                <div className=\"_1sx4f1vv\" data-panel-bounds=\"true\">\r\n                    <div className=\"_1c7nvmy\">\r\n                        <div className=\"_1jkbosm7\">\r\n                            <div>\r\n                                <div className=\"_mnnz9u\">\r\n                                    <label className=\"_koumzdh\">\r\n                                        <div className=\"_gor68n\">\r\n                                            <div className=\"_1i9tpqw\">Location</div>\r\n                                            <StayFilterSearch className=\"_1xq16jy\" onSetFilter={this.onSetFilter} />\r\n                                            {/* <input class=\"_1xq16jy\" aria-autocomplete=\"list\" aria-expanded=\"false\" autocomplete=\"off\" autocorrect=\"off\" spellcheck=\"false\" id=\"bigsearch-query-detached-query\" role=\"combobox\" name=\"query\" placeholder=\"Where are you going?\" required=\"\" data-testid=\"structured-search-input-field-query\" value=\"\"></input> */}\r\n                                        </div>\r\n                                    </label>\r\n                                    <span id=\"Koan-query__description\" className=\"_krjbj\">Navigate forward to access suggested results</span>\r\n                                    <span aria-atomic=\"true\" aria-live=\"polite\" role=\"status\" className=\"_krjbj\"></span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"_43mycv\"></div>\r\n                        <div className=\"_1l6jpwo\">\r\n                            <div className=\"_j8gg2a\">\r\n                                <div role=\"button\" tabindex=\"0\" className=\"_1akb2mdw\" aria-expanded=\"false\" data-testid=\"structured-search-input-field-split-dates-0\">\r\n                                    <div className=\"_seuyf\">\r\n                                        <div className=\"_wtz1co\">Check in</div>\r\n                                        <div className=\"_uh2dzp\">Add dates</div>\r\n                                        {/* <TableDatePicker setDates={this.setDates} startDate={startDate} endDate={endDate}/> */}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"_43mycv\"></div>\r\n                            <div className=\"_j8gg2a\">\r\n                                <div role=\"button\" tabindex=\"0\" className=\"_1akb2mdw\" aria-expanded=\"false\" data-testid=\"structured-search-input-field-split-dates-1\">\r\n                                    <div className=\"_seuyf\">\r\n                                        <div className=\"_wtz1co\">Check out</div>\r\n                                        <div className=\"_uh2dzp\">Add dates</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"_43mycv\"></div>\r\n                        <div className=\"_1yulsurh\">\r\n                            <div role=\"button\" tabindex=\"0\" className=\"_37ivfdq\" aria-expanded=\"false\" data-testid=\"structured-search-input-field-guests-button\">\r\n                                <div className=\"_seuyf\">\r\n                                    <div className=\"_wtz1co\">Guests</div>\r\n                                    <div className=\"_uh2dzp\">Add guests</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"_w64aej\">\r\n                                <button className=\"_sxfp92z\" aria-expanded=\"false\" type=\"button\" data-testid=\"structured-search-input-search-button\">\r\n                                    <div className=\"_1hb5o3s\">\r\n                                        <div className=\"_14lk9e14\">\r\n                                            {/* <SearchIcon/> */}\r\n                                            <svg className=\"_svg-search\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" role=\"presentation\" focusable=\"false\" >\r\n                                                <g fill=\"none\"><path d=\"m13 24c6.0751322 0 11-4.9248678 11-11 0-6.07513225-4.9248678-11-11-11-6.07513225 0-11 4.92486775-11 11 0 6.0751322 4.92486775 11 11 11zm8-3 9 9\"></path>\r\n                                                </g>\r\n                                            </svg>\r\n                                        </div>\r\n                                        <div className=\"_c5qlo1f\">Search</div>\r\n                                    </div>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser,\r\n        stays: state.stayModule.stays,\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStays,\r\n}\r\n\r\n\r\nexport const HeaderFilter = connect(mapStateToProps, mapDispatchToProps)(_HeaderFilter)\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport { Link, NavLink } from 'react-router-dom'\r\n\r\n\r\n\r\n\r\nexport default function SimpleMenu({loggedInUser}) {\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    return (\r\n        <div className=\"header-nav\">\r\n            {/* <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\r\n        Open Menu\r\n      </Button> */}\r\n            <div onClick={handleClick} className=\"avatar-icon\">\r\n                <MenuIcon />\r\n                {!loggedInUser && <AccountCircleIcon />}\r\n                {loggedInUser && <img src={loggedInUser.imgUrl} />}\r\n            </div>\r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                      \r\n                <MenuItem onClick={handleClose}><Link to=\"/user\">Profile</Link></MenuItem>\r\n                <MenuItem onClick={handleClose}>My account</MenuItem>\r\n                <MenuItem onClick={handleClose}><NavLink to=\"/login\">Logout</NavLink></MenuItem>\r\n            </Menu>\r\n        </div>\r\n    );\r\n}","import React, { Component } from 'react'\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport { ReactComponent as Logo } from '../assets/img/airbnb.svg'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport LanguageIcon from '@material-ui/icons/Language';\r\n// import {HeaderUserModal} from './HeaderUserModal';\r\n// import Popover from '@material-ui/core/Popover';\r\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n// import {  } from '@fortawesome/free-solid-svg-icons'\r\nimport { connect } from 'react-redux'\r\nimport { HeaderFilter } from './HeaderFilter';\r\nimport SimpleMenu from './SimpleMenu';\r\n\r\n\r\n\r\n\r\nclass _Header extends Component {\r\n    state = {\r\n        isModalShow: false,\r\n        isHeaderFilterOpen: false\r\n    }\r\n\r\n    openFillter = () => {\r\n\r\n        this.setState({ ...this.state, isHeaderFilterOpen: !this.state.isHeaderFilterOpen })\r\n    }\r\n\r\n    showModal = (ev) => {\r\n        console.dir(ev)\r\n        // this.setState(this.state.isModalShow = !this.state.isModalShow)\r\n        this.setState({ ...this.state, isModalShow: !this.state.isModalShow })\r\n        // return (<Popover \r\n        //     anchorOrigin={{\r\n        //       vertical: 'bottom',\r\n        //       horizontal: 'right',\r\n        //     }}\r\n        //     transformOrigin={{\r\n        //       vertical: 'top',\r\n        //       horizontal: 'right',\r\n        //     }}\r\n        //   >\r\n        //     The content of the Popover.\r\n        //   </Popover>)\r\n    }\r\n    \r\n\r\n    render() {\r\n        const { loggedInUser } = this.props\r\n        const { isModalShow, isHeaderFilterOpen } = this.state\r\n        // const { loggedInUser } = this.props;\r\n        return <header className=\"flex main-header main-layout\">\r\n            <div className=\"header-expends flex\">\r\n                <div className=\"nav-container flex space-between\">\r\n                    <h1 className=\"logo-container\">\r\n                        <Link exact to=\"/\"><Logo className=\"logo\" /><span>HomeMe</span></Link>\r\n                    </h1>\r\n\r\n                    <div className=\"search-container\" onClick={this.openFillter}>\r\n                        <input className=\"navbar-search-btn\" placeholder=\"Start your search\"/>\r\n                        <span><SearchIcon /></span>\r\n                \r\n                            {/* <div className=\"_w64aej\" >\r\n                                <button className=\"_sxfp92z\" aria-expanded=\"false\" type=\"button\" data-testid=\"structured-search-input-search-button\">\r\n                                    <div className=\"_1hb5o3s\">\r\n                                        <div className=\"_14lk9e14\">\r\n                                            {/* <SearchIcon/> */}\r\n                                            {/* <svg className=\"_svg-search\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" role=\"presentation\" focusable=\"false\" >\r\n                                                <g fill=\"none\"><path d=\"m13 24c6.0751322 0 11-4.9248678 11-11 0-6.07513225-4.9248678-11-11-11-6.07513225 0-11 4.92486775-11 11 0 6.0751322 4.92486775 11 11 11zm8-3 9 9\"></path>\r\n                                                </g>\r\n                                            </svg>\r\n                                        </div>\r\n                                        <div className=\"_c5qlo1f\">Search</div>\r\n                                    </div>\r\n                                </button>\r\n                            </div> */} \r\n                        \r\n                    </div>\r\n\r\n                    <nav className=\"header-nav flex\">\r\n                        <NavLink exact to=\"/stay\">Explore</NavLink>\r\n                        {!loggedInUser?.isHost && <NavLink to=\"/host\">Become a host</NavLink>}\r\n                        <LanguageIcon />\r\n                        {/* <div onClick={this.showModal} className=\"avatar-icon\">\r\n                            <MenuIcon />\r\n                            {!loggedInUser && <AccountCircleIcon />}\r\n                            {loggedInUser && <img src={loggedInUser.imgUrl} />}\r\n                        </div> */}\r\n                    <SimpleMenu loggedInUser={loggedInUser}/>\r\n                    </nav>\r\n                    {/* {isModalShow && <HeaderUserModal/>} */}\r\n                    {/* {isModalShow && <div className=\"header-modal\">\r\n                        <NavLink to=\"/user\">My Profile</NavLink>\r\n                        <NavLink to=\"/login\">Login</NavLink>\r\n                    </div>} */}\r\n                </div>\r\n                {isHeaderFilterOpen && <div className=\"main-search-bar\">\r\n                <HeaderFilter />\r\n                </div>}\r\n            </div>\r\n        </header>\r\n    }\r\n\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\nconst mapDispatchToProps = {}\r\n\r\n\r\nexport const Header = connect(mapStateToProps, mapDispatchToProps)(_Header)","import { HashRouter as Router, Route } from 'react-router-dom'\r\n\r\nimport './assets/styles/styles.scss'\r\n\r\nimport { routes } from './routes.js'\r\nimport { Footer } from \"./cmps/Footer.jsx\";\r\nimport { Component } from 'react';\r\nimport {Header} from  './cmps/Header'\r\n\r\n\r\nexport class App extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"app-screen\">\r\n        <Router>\r\n          <Header/>\r\n          <main className=\"main-container main-layout\">\r\n            {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\r\n          </main>\r\n          <Footer/>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","export const storageService = {\r\n    load,\r\n    save\r\n}\r\n\r\nfunction save(key, val) {\r\n    sessionStorage.setItem(key, JSON.stringify(val))\r\n}\r\n\r\nfunction load(key) {\r\n    var val = sessionStorage.getItem(key)\r\n    return JSON.parse(val)\r\n}","\r\nimport { storageService } from './storage-service.js'\r\n\r\nconst axios = require('axios')\r\n\r\nconst STORAGE_KEY = 'loggedinUser'\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getLoggedinUser\r\n}\r\n\r\n// const BASE_URL = process.env.NODE_ENV === 'production' ? '/api' : 'http://localhost:3030/api'\r\n\r\nfunction login(credentials) {\r\n    console.log('credentials:', credentials)\r\n    return axios.post(`login`, credentials).then(res => res.data)\r\n        .then(user => {\r\n            storageService.save(STORAGE_KEY, user)\r\n            return user\r\n        })\r\n}\r\nfunction signup(userInfo) {\r\n    return axios.post(`signup`, userInfo).then(res => res.data)\r\n        .then(user => {\r\n            storageService.save(STORAGE_KEY, user)\r\n            return user\r\n        })\r\n}\r\nfunction logout() {\r\n    return axios.post(`logout`).then(res => res.data)\r\n        .then(() => {\r\n            storageService.save(STORAGE_KEY, null)\r\n            return null\r\n        })\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return storageService.load(STORAGE_KEY)\r\n}","import {userService} from '../../services/user.service.axios.js'\r\n\r\nconst initialState = {\r\n    loggedinUser: userService.getLoggedinUser(),\r\n}\r\n\r\nexport function appReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            return { ...state, loggedinUser: action.user }\r\n        // case 'UPDATE_SCORE':\r\n        //     return { ...state, loggedinUser: { ...state.loggedinUser, score: state.loggedinUser.score + action.diff } }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","const initialState = {\r\n    err : null,\r\n    isLoading: false,\r\n    stays: [],\r\n    filterBy: null,\r\n    selectedStay: null,\r\n    shoppingCart: []\r\n}\r\n\r\nexport function stayReducer(state = initialState, action={}) {\r\n    switch (action.type) {\r\n        case 'SET_STAYS':\r\n            return { ...state, stays: action.stays, isLoading: false }\r\n        // case 'SET_FILTER':\r\n        //     return { ...state, filterBy: action.filterBy, isLoading: false }\r\n        case 'STAY_ERR':\r\n            return { ...state, err: action.err, isLoading: false }\r\n        case 'ADD_STAY':\r\n            return { ...state, stays: [...state.stays, action.stay] }\r\n        case 'UPDATE_STAY':\r\n            const idx = state.stays.findIndex(stay => stay._id === action.stay._id)\r\n            state.stays.splice(idx, 1, action.stay)\r\n            return { ...state, stays: [...state.stays] }\r\n        case 'REMOVE_STAY':\r\n            return { ...state, stays: state.stays.filter(stay => stay._id !== action.stayId) }\r\n        case 'LOADING_STAYS':\r\n            return { ...state, isLoading: action.isLoading, err:null }\r\n        case 'SELECT_STAY': \r\n            return { ...state, selectedStay: action.stay}\r\n        case 'ADD_TO_CART':\r\n            return { ...state, shoppingCart: [...state.shoppingCart, action.item] }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","let localLoggedinUser = null\r\nif (sessionStorage.loggedinUser) localLoggedinUser = JSON.parse(sessionStorage.loggedinUser)\r\n\r\nconst initialState = {\r\n  loggedInUser: localLoggedinUser,\r\n  users: []\r\n}\r\n\r\nexport function userReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return { ...state, loggedInUser: action.user }\r\n    case 'REMOVE_USER':\r\n      return {\r\n        ...state,\r\n        users: state.users.filter(user => user._id !== action.userId)\r\n      }\r\n    case 'SET_USERS':\r\n      return { ...state, users: action.users }\r\n    case 'SET_SCORE':\r\n      return { ...state, loggedInUser: { ...state.loggedInUser, score: action.score } }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n    err: null,\r\n    orders: [],\r\n    isLoading: false,\r\n\r\n}\r\n\r\nexport function orderReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_ORDERS':\r\n            return {\r\n                ...state, orders: action.orders, isLoading: false\r\n            }\r\n            case 'ORDER_ERR':\r\n                return {\r\n                    ...state, err: action.err, isLoading: false\r\n                }\r\n                case 'ADD_ORDER':\r\n                    return {\r\n                        ...state, orders: [...state.orders, action.order]\r\n                    }\r\n\r\n                    default:\r\n                        return state\r\n    }\r\n}","\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\nimport ReduxThunk from 'redux-thunk';\r\nimport { appReducer } from './reducers/app.reducer.js'\r\nimport { stayReducer } from './reducers/stay.reducer.js'\r\nimport { userReducer } from './reducers/user.reducer.js'\r\nimport { orderReducer } from './reducers/order.reducers.js'\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    appModule: appReducer,\r\n    stayModule: stayReducer,\r\n    orderModule: orderReducer,\r\n    userModule: userReducer\r\n})\r\n\r\n\r\n// export const store = createStore(rootReducer,\r\n//     compose(applyMiddleware(ReduxThunk))) //Passing the reducer\r\nexport const store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(ReduxThunk))\r\n) //Passing the reducer\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// console.log('Redux STORE', store);\r\n// store.subscribe(() => {\r\n//     console.log('Counter state is:', store.getState())\r\n// })\r\n\r\n// store.dispatch({ type: 'INCREMENT' })\r\n// store.dispatch({ type: 'INCREMENT' })\r\n// store.dispatch({ type: 'INCREMENT' })\r\n// store.dispatch({ type: 'INCREMENT' })\r\n// store.dispatch({ type: 'INCREMENT' })\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux'\r\n\r\nimport './index.css';\r\nimport { App } from './App.jsx';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { store } from \"./store/store.js\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}