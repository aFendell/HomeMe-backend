{"version":3,"sources":["services/http.service.js","services/user.service.js","store/actions/user.actions.js","cmps/SignIn.jsx","assets/img/new-york.jpg","assets/img/rio.jpg","assets/img/sydney.jpg","services/async-storage.service.js","services/stay.service.js","store/actions/stay.actions.js","assets/img/icons/angle-left.svg","assets/img/icons/angle-right.svg","cmps/LoadingSpinner.jsx","cmps/ImgsCarousel.jsx","cmps/ReviewsStats.jsx","cmps/StayPreview.jsx","cmps/TopList.jsx","cmps/StayList.jsx","cmps/StayFilterSort.jsx","cmps/StayMap.jsx","cmps/ReviewsDetails.jsx","cmps/ReviewsList.jsx","cmps/ReviewsModal.jsx","cmps/StayReviews.jsx","services/orderService.js","services/socketService.js","cmps/AddOrder/DatePicker.jsx","cmps/AddOrder/IconAlerts.jsx","cmps/AddOrder/SimpleModal.jsx","cmps/AddOrder/ChecksModal.jsx","cmps/AddOrder/Button.jsx","cmps/AddOrder/AddGuest.jsx","cmps/AddOrder/GuestsModal.jsx","cmps/AddOrder/AddOrder.jsx","store/actions/order.actions.js","services/cloudinaryService.js","cmps/Upload.jsx","assets/img/icons/envelope-regular.svg","cmps/StayEdit.jsx","cmps/UserInbox.jsx","assets/img/icons/phone-solid.svg","cmps/BookingTable.jsx","cmps/UserStayPreview.jsx","assets/img/airbnb.svg","cmps/StayStatistics.jsx","cmps/UserStaysList.jsx","routes.js","pages/Home.jsx","pages/StayApp.jsx","pages/StayDetails.jsx","pages/UserProfile.jsx","pages/About.jsx","cmps/Footer.jsx","cmps/ScrollToTop.jsx","cmps/StayFilterSearch.jsx","services/customHooks.js","cmps/HeaderFilter.jsx","cmps/SimpleMenu.jsx","cmps/Header.jsx","App.jsx","reportWebVitals.js","services/storage-service.js","services/user.service.axios.js","store/reducers/app.reducer.js","store/reducers/stay.reducer.js","store/reducers/user.reducer.js","store/reducers/order.reducers.js","store/store.js","index.js"],"names":["BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","console","log","dir","response","status","window","location","assign","userService","login","logout","signup","getUsers","getById","userId","remove","update","getLoggedinUser","user","_id","_saveLocalUser","userCred","sessionStorage","clear","setItem","JSON","stringify","parse","getItem","dispatch","type","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","mapDispatchToProps","userCreds","SignIn","connect","state","users","userModule","loggedInUser","props","classes","className","Container","component","maxWidth","onSubmit","ev","preventDefault","stopPropagation","history","push","CssBaseline","Avatar","Typography","variant","noValidate","TextField","select","color","required","fullWidth","id","name","autoComplete","onChange","target","value","SelectProps","native","FormControlLabel","control","Checkbox","label","gStays","require","stay","storageService","query","get","entityType","entityId","then","entities","find","entity","post","newEntity","_makeId","_save","put","updatedEntity","idx","findIndex","splice","localStorage","Promise","resolve","length","text","possible","i","charAt","Math","floor","random","search","searchTxt","URLSearchParams","Geocode","setApiKey","stayService","filterBy","queryStr","sortBy","stayId","save","locFromAddress","getEmptyStay","imgUrls","price","summary","capacity","amenities","host","fullname","imgUrl","loc","address","lat","lng","fromAddress","results","geometry","loadStays","stays","err","setFilter","setSelectedStay","_path","_excluded","_extends","Object","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgAngleLeft","_ref","svgRef","title","titleId","focusable","role","xmlns","viewBox","ref","fill","d","ForwardRef","SvgAngleRight","LoadingSpinner","ImgsCarousel","useState","current","setCurrent","skipToSlide","onClick","map","img","index","src","alt","ReviewsStats","reviews","reviewsAvg","icon","faStar","StayPreview","to","reduce","acc","review","rate","toFixed","_TopList","staysToDisplay","topReviews","staysWithAvg","avgRate","sort","b","slice","setState","React","Component","TopList","stayModule","StayList","StayFilterSort","useDispatch","useSelector","useHistory","handleChange","newFilterBy","size","_GoogleMap","onMapClicked","latLng","google","zoom","initialCenter","center","position","StayMap","GoogleApiWrapper","apiKey","ReviewsDetails","onOpenReviewModal","by","txt","ReviewsList","ReviewsModal","closeModal","faTimes","StayReviews","isModalOpen","targetRef","targetElement","disableBodyScroll","enableBodyScroll","forwardRef","clearAllBodyScrollLocks","orderService","orderId","order","socketService","socket","setup","io","on","eventName","cb","off","emit","terminate","createSocketService","TableDatePicker","startDate","Date","setStartDate","endDate","setEndDate","useEffect","setDates","inputStyle","textAlign","selected","selectsStart","date","selectsEnd","minDate","root","IconAlerts","rand","round","getModalStyle","top","left","transform","background","border","boxShadow","shadows","padding","SimpleModal","modalStyle","open","setOpen","toggleOpen","body","style","Modal","onClose","aria-labelledby","aria-describedby","ChecksModal","nightCount","totalPrice","Button","action","AddGuest","guests","adults","kids","incrementCountAdults","setGuests","decrementCountAdutls","incrementCountKids","decrementCountKids","MenuItem","min","GuestsModal","_AddOrder","isModalCheckOpen","hostId","createdAt","now","buyer","msg","msgs","topic","isBotMode","calcTotalPrice","getTripTime","getTime","field","prevState","startNewChat","addMsg","from","newMsg","sendBotResponse","onSaveOrder","onOpenGuestsModal","onOpenCheckModal","saveOrder","savedOrder","AddOrder","orders","orderModule","cloudinaryService","uploadImg","UPLOAD_URL","formData","FormData","append","files","fetch","json","catch","error","Upload","height","isUploading","secure_url","getImgUrl","previewStyle","backgroundImage","htmlFor","uploadMsg","accept","StayEdit","setStay","loadStay","stayToEdit","prevStay","toggleCheckbox","checked","onGetLoc","onAddStay","savedStay","saveStay","placeholder","disabled","maxLength","href","UserInbox","SvgEnvelopeRegular","SvgPhoneSolid","_BookingTable","ordersToDisplay","getFormatDate","timstamp","toLocaleDateString","loadOrders","filter","parseInt","isLoading","BookingTable","UserStayPreview","labels","StayStatistics","datasets","borderColor","borderWidth","UserStaysList","setStaysToDisplay","currentUserStays","isHost","routes","path","newYorkImg","sydneyImg","rioImg","match","stayToShow","hidden","bedroom","bath","faBed","faWifi","faTv","faSnowflake","faSmoking","faPaw","faUtensils","faRecycle","faMusic","setComponent","Footer","ScrollToTop","pathname","useLocation","scrollTo","SvgAirbnb","StayFilterSearch","initialState","fields","setFields","prevFields","useForm","onSetFilter","HeaderFilter","searchParams","data-panel-bounds","aria-atomic","aria-live","tabIndex","aria-expanded","data-testid","placeholderText","aria-hidden","SimpleMenu","anchorEl","setAnchorEl","handleClose","event","currentTarget","Menu","keepMounted","Boolean","_Header","isModalShow","isHeaderFilterOpen","show","scrollPos","topPos","forFilter","handleScroll","document","getBoundingClientRect","openFillter","showModal","addEventListener","removeEventListener","exact","Header","App","Header1","Header2","render","route","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","load","val","STORAGE_KEY","loggedinUser","credentials","userInfo","selectedStay","shoppingCart","localLoggedinUser","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","appModule","item","score","store","createStore","applyMiddleware","ReduxThunk","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7e3c2afa.chunk.js","sourcesContent":["import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    // console.log('http data:', data);\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            // url: `${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/#/login')\r\n        }\r\n        throw err\r\n    }\r\n}","// import { storageService } from './async-storage.service'\r\nimport { httpService } from './http.service'\r\n// const SCORE_FOR_REVIEW = 10\r\n// const BASE_URL = process.env.NODE_ENV === 'production' ? '/api/' : 'http://localhost:3030/api/'\r\n// const BASE_URL= 'http://localhost:3030/api/'\r\n\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    getLoggedinUser,\r\n    // increaseScore\r\n}\r\n\r\nwindow.userService = userService\r\n// Note: due to async, must run one by one...\r\n// userService.signup({fullname: 'Puki Norma', username: 'user1', password:'123',score: 100, isAdmin: false})\r\n// userService.signup({fullname: 'Master Adminov', username: 'admin', password:'admin', score: 100, isAdmin: true})\r\n// userService.signup({fullname: 'Muki G', username: 'muki', password:'123', score: 100})\r\n\r\nfunction getUsers() {\r\n    // return storageService.query('user')\r\n    return httpService.get(`user`)\r\n}\r\n\r\nfunction getById(userId) {\r\n    // return storageService.get('user', userId)\r\n    return httpService.get(`user/${userId}`)\r\n}\r\nfunction remove(userId) {\r\n    // return storageService.remove('user', userId)\r\n    return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n    // return storageService.put('user', user)\r\n    user = await httpService.put(`user/${user._id}`, user)\r\n    // Handle case in which admin updates other user's details\r\n    if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n}\r\n\r\n// async function increaseScore(by = SCORE_FOR_REVIEW) {\r\n//     const user = getLoggedinUser()\r\n//     user.score = user.score + by || by\r\n//     await update(user)\r\n//     return user.score\r\n// }\r\n\r\nasync function login(userCred) {\r\n    // const users = await storageService.query('user')\r\n    // const user = users.find(user => user.username === userCred.username)\r\n    // return _saveLocalUser(user)\r\n    const user = await httpService.post(`auth/login`, userCred)\r\n    // console.log(userCred)\r\n    if (user) return _saveLocalUser(user)\r\n}\r\n\r\nasync function signup(userCred) {\r\n    // const user = await storageService.post('user', userCred)\r\n    const user = await httpService.post('auth/signup', userCred)\r\n    return _saveLocalUser(user)\r\n}\r\n\r\nasync function logout() {\r\n    sessionStorage.clear()\r\n    return await httpService.post('auth/logout')\r\n}\r\n\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem('loggedinUser', JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem('loggedinUser') || 'null')\r\n}\r\n\r\n","import { userService } from '../../services/user.service.js'\r\n\r\n// THUNK action creators\r\n// Work asynchronously with the service and dispatch actions to the reducers \r\n\r\nexport function loadUsers() {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch({ type: 'LOADING_START' })\r\n      const users = await userService.getUsers()\r\n      dispatch({ type: 'SET_USERS', users })\r\n    } catch (err) {\r\n      console.log('UserActions: err in loadUsers', err)\r\n    } finally {\r\n      dispatch({ type: 'LOADING_DONE' })\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.remove(userId)\r\n      dispatch({ type: 'REMOVE_USER', userId })\r\n    } catch (err) {\r\n      console.log('UserActions: err in removeUser', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function login(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.login(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in login', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function signup(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.signup(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in signup', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function logout() {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.logout()\r\n      dispatch({ type: 'SET_USER', user: null })\r\n    } catch (err) {\r\n      console.log('UserActions: err in logout', err)\r\n    }\r\n  }\r\n}","import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nimport {\r\n  login,\r\n  logout,\r\n} from '../store/actions/user.actions'\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nfunction _SignIn(props) {\r\n  const classes = useStyles();\r\n\r\n  const user = {}\r\n\r\n  function handleChanges(ev) {\r\n    user[ev.target.name] = ev.target.value\r\n  }\r\n\r\n  function doLogin(ev) {\r\n    ev.preventDefault()\r\n    ev.stopPropagation()\r\n    props.login(user)\r\n    props.history.push('/')\r\n  }\r\n\r\n  return (\r\n    <div className=\"krapppp\">\r\n      <Container component=\"main\" maxWidth=\"xs\" onSubmit={doLogin}>\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h3\" >\r\n            Sign in\r\n          </Typography>\r\n          <form className={classes.form} noValidate>\r\n            <TextField\r\n              select\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              color=\"secondary\"\r\n              required\r\n              fullWidth\r\n              id=\"username\"\r\n              name=\"username\"\r\n              autoComplete=\"username\"\r\n              onChange={handleChanges}\r\n              SelectProps={{ native: true }}\r\n            >\r\n              <option value=\"\">Select User</option>\r\n              <option value=\"aylam1\">User1</option>\r\n              <option value=\"assaf1\">Host1</option>\r\n\r\n            </TextField>\r\n            \r\n            <FormControlLabel\r\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n              label=\"Remember me\"\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign In\r\n            </Button>\r\n            \r\n          </form>\r\n        </div>\r\n\r\n      </Container>\r\n    </div >\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    users: state.userModule.users,\r\n    loggedInUser: state.userModule.loggedInUser,\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  login,\r\n  logout,\r\n}\r\n\r\nexport const SignIn = connect(mapStateToProps, mapDispatchToProps)(_SignIn)","export default __webpack_public_path__ + \"static/media/new-york.a79d1b79.jpg\";","export default __webpack_public_path__ + \"static/media/rio.d65e2ab5.jpg\";","export default __webpack_public_path__ + \"static/media/sydney.96634ac2.jpg\";","const data = require('../data/stays.json')\r\n\r\nlet gStays = data.stay\r\n// let gUsers = data.user\r\n// let gOrder = data.order\r\n// let gTrip = data.trip\r\n\r\nexport const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n}\r\n\r\nfunction query(entityType) {\r\n    // console.log('entityType:', entityType);\r\n    var entities = JSON.parse(localStorage.getItem(entityType)) || gStays\r\n    // console.log('entities:', entities);\r\n    // _save(entityType, entities)\r\n    return Promise.resolve(entities)\r\n}\r\n\r\nfunction get(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => entities.find(entity => entity._id === entityId))\r\n        \r\n    }\r\n\r\nfunction post(entityType, newEntity) {\r\n    newEntity._id = _makeId()\r\n    return query(entityType)\r\n        .then(entities => {\r\n            entities.push(newEntity)\r\n            _save(entityType, entities)\r\n            return newEntity\r\n        })\r\n}\r\n\r\nfunction put(entityType, updatedEntity) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\r\n            entities.splice(idx, 1, updatedEntity)\r\n            _save(entityType, entities)\r\n            return updatedEntity\r\n        })\r\n}\r\n\r\nfunction remove(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === entityId)\r\n            entities.splice(idx, 1)\r\n            _save(entityType, entities)\r\n        })\r\n}\r\n\r\nfunction _save(entityType, entities) {\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n\r\nfunction _makeId(length = 5) {\r\n    var text = ''\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return text\r\n}","// import { httpService } from './http.service'\r\nimport { storageService } from './async-storage.service.js'\r\nimport Geocode from \"react-geocode\";\r\nimport { httpService } from './http.service.js'\r\n\r\n\r\nvar location = window.location.search;\r\nconst searchParams = new URLSearchParams(location);\r\nconst searchTxt = searchParams.get('searchTxt')\r\n// const data = require('../data/stays.json')\r\n// let gStays = data.stay\r\nwindow.storageService = storageService;\r\n\r\nGeocode.setApiKey(\"AIzaSyBbTZyN_EMhg5_KqY2QPa6StarWQzJ2zp0\");\r\n// const STOR\r\n\r\n// const axios = require('axios');\r\n\r\n// - // for Deverlop without backend\r\n// const STORAGE_KEY = 'stay'\r\n\r\nexport const stayService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    remove,\r\n    locFromAddress,\r\n    getEmptyStay\r\n}\r\n\r\n// const BASE_URL = process.env.NODE_ENV === 'production' ? '/api/' : 'http://localhost:3030/api/stay'\r\n\r\n\r\nfunction query(filterBy) {\r\n    \r\n    var queryStr = (!filterBy) ? '' : `searchTxt=${searchTxt || filterBy.searchTxt}&type=${filterBy.type}&sortBy=${filterBy.sortBy}`\r\n    // console.log('filter service:', filterBy);\r\n\r\n    return httpService.get(`stay?${queryStr}`, queryStr)\r\n    // console.log('filterBy in FE service:', filterBy);\r\n    // return httpService.get(`stay`, filterBy)\r\n\r\n    // return storageService.query(STORAGE_KEY).then(stays => {\r\n    //     if (!stays || !stays.length) stays = gStays\r\n    //     return stays\r\n    // })\r\n\r\n    // return axios.get(`${BASE_URL}`).then((res=>res.data))\r\n}\r\n\r\nfunction getById(stayId) {\r\n    // console.log(stayId)\r\n    return httpService.get(`stay/${stayId}`)\r\n    // return storageService.get(STORAGE_KEY, stayId)\r\n    // return axios.get(`${BASE_URL}/${stayId}`).then((res => res.data))\r\n}\r\nfunction remove(stayId) {\r\n    return httpService.delete(`stay/${stayId}`)\r\n    // return storageService.remove(STORAGE_KEY, stayId)\r\n    // return axios.delete(`${BASE_URL}/${stayId}`).then((res => res.data))\r\n}\r\nasync function save(stay) {\r\n    if (stay._id) {\r\n        return await httpService.put(`stay/${stay._id}`, stay)\r\n        // return storageService.put(STORAGE_KEY, stay)\r\n        // return axios.put(`${BASE_URL}`, stay).then(res => res.data)\r\n    } else {\r\n        return await httpService.post(`stay`, stay)\r\n        // return storageService.post(STORAGE_KEY, stay)\r\n        // return axios.post(`${BASE_URL}`, stay).then(res => res.data)\r\n    }\r\n}\r\n\r\nfunction getEmptyStay() {\r\n    return {\r\n        name: '',\r\n        type: '',\r\n        imgUrls: [],\r\n        price: '',\r\n        summary: '',\r\n        capacity: '',\r\n        amenities: [],\r\n        // TODO: get from user service\r\n        host: {\r\n            _id: '',\r\n            fullname: '',\r\n            imgUrl: '',\r\n        },\r\n        loc: {\r\n            address: '',\r\n            lat: '',\r\n            lng: ''\r\n        }\r\n    }\r\n}\r\n\r\n// function save(stay) {\r\n//     console.log('stay from service', stay)\r\n//     if (stay._id) {\r\n//         return httpService.put(`stay/${stay._id}`, stay);\r\n//     } else {\r\n//         return httpService.post(`stay`, stay);\r\n//     }\r\n// }\r\n\r\nasync function locFromAddress(location) {\r\n    const res = await Geocode.fromAddress(location)\r\n    const { lat, lng } = res.results[0].geometry.location\r\n    return { lat, lng }\r\n}\r\n\r\n\r\n\r\n\r\n","import { stayService } from '../../services/stay.service.js'\r\n\r\nexport function loadStays(filterBy) { // Action Creator\r\n  return async dispatch => {\r\n    try {\r\n      const stays = await stayService.query(filterBy)\r\n      dispatch({ type: 'SET_STAYS', stays })\r\n    } catch (err) {\r\n      console.log('StaysActions: err in loadStays', err)\r\n      dispatch({ type: 'STAY_ERR', err })\r\n    }\r\n  }\r\n}\r\n\r\nexport function setFilter(filterBy) {\r\n  return (dispatch) => dispatch({ type: 'SET_FILTER', filterBy })\r\n}\r\n\r\n\r\n// export function setFilter(filterBy) {\r\n//   return (dispatch) => dispatch(_setFilter(filterBy))\r\n// }\r\n\r\n// const _setFilter = (filterBy) => ({ type: 'SET_FILTER', filterBy });\r\n\r\nexport function saveStay(stay) { // Action Creator\r\n  console.log('actions stay:', stay);\r\n  return dispatch => {\r\n    return stayService.save(stay)\r\n      .then((savedStay) => {\r\n        if (!stay._id) dispatch({ type: 'ADD_STAY', stay: savedStay })\r\n        else dispatch({ type: 'UPDATE_STAY', stay: savedStay })\r\n      })\r\n  }\r\n}\r\n\r\nexport function setSelectedStay(stayId) { // Action Creator\r\n  return dispatch => {\r\n    return stayService.getById(stayId)\r\n      .then((stay) => {\r\n        if (!stay) stay = null\r\n        const action = {\r\n          type: 'SELECT_STAY',\r\n          stay,\r\n        }\r\n        dispatch(action)\r\n      })\r\n  }\r\n}\r\n\r\nexport function removeStay(stayId) { // Action Creator\r\n  return async dispatch => {\r\n    try {\r\n      await stayService.remove(stayId)\r\n      dispatch({ type: 'REMOVE_STAY', stayId })\r\n    } catch (err) {\r\n      console.log('StaysActions: err in removeStays', err)\r\n      dispatch({ type: 'STAY_ERR', err })\r\n    }\r\n  }\r\n}\r\n\r\nexport function addStay(stay) {\r\n  return async dispatch => {\r\n    try {\r\n      const addedStay = await stayService.add(stay)\r\n      dispatch({ type: 'ADD_STAY', stay: addedStay })\r\n\r\n    } catch (err) {\r\n      console.log('StayActions: err in addStay', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function updateStay(stay) {\r\n  return async dispatch => {\r\n    try {\r\n      const updatedStay = await stayService.update(stay)\r\n      dispatch({ type: 'UPDATE_STAY', stay: updatedStay })\r\n\r\n    } catch (err) {\r\n      console.log('StayActions: err in updateStay', err)\r\n    }\r\n  }\r\n}","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAngleLeft(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"angle-left\",\n    className: \"svg-inline--fa fa-angle-left fa-w-8\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 256 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAngleLeft);\nexport default __webpack_public_path__ + \"static/media/angle-left.e6b3ab3d.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAngleRight(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"angle-right\",\n    className: \"svg-inline--fa fa-angle-right fa-w-8\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 256 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAngleRight);\nexport default __webpack_public_path__ + \"static/media/angle-right.cd2a56f4.svg\";\nexport { ForwardRef as ReactComponent };","export function LoadingSpinner() {\r\n    return(\r\n        <div className=\"loading-spinner\"></div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { ReactComponent as AngleLeft } from '../assets/img/icons/angle-left.svg'\r\nimport { ReactComponent as AngleRight } from '../assets/img/icons/angle-right.svg'\r\nimport { LoadingSpinner } from './LoadingSpinner';\r\n\r\n\r\nexport function ImgsCarousel({ imgUrls }) {\r\n\r\n    let [current, setCurrent] = useState(0)\r\n    const length = imgUrls.length\r\n\r\n    const nextSlide = (ev) => {\r\n        ev.preventDefault()\r\n        setCurrent(current === length - 1 ? 0 : current + 1)\r\n        \r\n    }\r\n\r\n    const prevSlide = (ev) => {\r\n        ev.preventDefault()\r\n        setCurrent(current === 0 ? length - 1 : current - 1)\r\n\r\n    }\r\n\r\n\r\n    const skipToSlide = (ev) => {\r\n        ev.preventDefault()\r\n        const idx = +ev.target.id\r\n        console.log('idx:', idx);\r\n        setCurrent(idx)\r\n    }\r\n\r\n\r\n    if (!imgUrls || imgUrls <= 0) return <LoadingSpinner/>\r\n    return (\r\n\r\n        <div className=\"slider\">\r\n            <section className=\"arrows\">\r\n\r\n            <AngleLeft className=\"left-arrow\" onClick={prevSlide} />\r\n            <AngleRight className=\"right-arrow\" onClick={nextSlide} />\r\n            </section>\r\n\r\n            <div className=\"imgs\">\r\n\r\n                {imgUrls.map((img, index) => {\r\n                    return (\r\n                        <div className={index === current ? 'slide active' : 'slide'} key={index}>\r\n                            {index === current && (<img src={img} alt=\"stay\" />)}\r\n                        </div>\r\n                    )\r\n                })}\r\n\r\n            </div>\r\n\r\n            <div className=\"indicators\">\r\n                {imgUrls.map((img, index) => {\r\n                    return (\r\n                        <div className={index === current ? 'dot active' : 'dot'} key={index} id={index} onClick={skipToSlide}></div>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n\r\n\r\n    ","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport function ReviewsStats({reviews, reviewsAvg}){\r\n    return(\r\n        <div className=\"reviews-stats\">\r\n            <FontAwesomeIcon className=\"star-icon\" icon={faStar} />\r\n                <span><span className=\"rev-avg\">{reviewsAvg()}</span><span className=\"reviews-count\"> ({reviews.length} reviews)</span></span>\r\n            </div>\r\n    )\r\n}","import { Link } from 'react-router-dom'\r\nimport { ImgsCarousel } from './ImgsCarousel'\r\nimport { LoadingSpinner } from './LoadingSpinner'\r\nimport { ReviewsStats } from './ReviewsStats'\r\n\r\nexport const StayPreview = ({ stay }) => {\r\n\r\n    const reviewsAvg = () => {\r\n        const avg = stay.reviews.reduce((acc, review) => acc += review.rate, 0) / stay.reviews.length\r\n        return avg.toFixed(1)\r\n    }\r\n\r\n    if (!stay) return <LoadingSpinner/>\r\n\r\n    return (\r\n        <div className=\"stay-preview\">\r\n            <Link to={'/stay/' + stay._id}>\r\n                <ImgsCarousel imgUrls={stay.imgUrls} />\r\n                <div className=\"preview-content\">\r\n\r\n                    {stay.reviews?.length && <ReviewsStats reviews={stay.reviews} reviewsAvg={reviewsAvg} />}\r\n                    <p className=\"grey\">{stay.type} in {stay.loc.address}</p>\r\n                    <p className=\"name\">{stay.name}</p>\r\n                    <p><span className=\"price\">${stay.price}</span> / night</p>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    )\r\n}","import { connect} from 'react-redux'\r\nimport React from 'react';\r\nimport { loadStays } from '../store/actions/stay.actions.js'\r\nimport { StayPreview } from './StayPreview'\r\nimport { LoadingSpinner } from './LoadingSpinner.jsx';\r\n\r\n// export const TopList = () => {\r\n//     const dispatch = useDispatch()\r\n//     const { stays, filterBy } = useSelector(state => state.stayModule)\r\n//     const [staysToDisplay, setStaysToDisplay] = useState([])\r\n\r\n\r\n//     useEffect(() => {\r\n//         dispatch(loadStays(filterBy))\r\n//         topRated()\r\n//     }, [filterBy])\r\n\r\n//     // useEffect(() => {\r\n//     //     const loadStay = async () => {\r\n//     //         const { stayId } = match.params\r\n//     //         const stayToShow = await stayService.getById(stayId)\r\n//     //         setStay(stayToShow)\r\n//     //     }\r\n\r\n//     //     loadStay()\r\n//     //     // eslint-disable-next-line\r\n//     // }, [match.params.id])\r\n\r\n//     const topRated = () => {\r\n//         console.log(stays);\r\n//         const n = 3\r\n\r\n//         let topRatedStays = stays.map(stay => ({\r\n//             ...stay, avgRate: stay.reviews.reduce((acc, review) => acc += review.rate, 0) / stay.reviews.length\r\n//         }))\r\n//         if (n > topRatedStays.length) {\r\n//             return false;\r\n//         }\r\n//         topRatedStays = topRatedStays\r\n//             .sort((a, b) => {\r\n//                 return b.avgRate - a.avgRate\r\n//             })\r\n//             .slice(0, n)\r\n\r\n//         setStaysToDisplay(topRatedStays)\r\n//     }\r\n\r\n//     if (!staysToDisplay) return <LoadingSpinner/>\r\n//     return (\r\n//         <section className=\"top-rated\">\r\n//             {staysToDisplay.map(stay => <StayPreview key={stay._id}\r\n//                 stay={stay} />)}\r\n//         </section>\r\n//     )\r\n// }\r\n\r\n\r\nclass _TopList extends React.Component {\r\n\r\n    state = {\r\n        staysToDisplay: []\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.props.loadStays(this.props.filterBy)\r\n        this.topReviews()\r\n    }\r\n\r\n    topReviews() {\r\n        const { stays } = this.props\r\n        const n = 3\r\n\r\n        let staysWithAvg = stays.map(stay => ({\r\n            ...stay, avgRate: stay.reviews.reduce((acc, review) => acc += review.rate, 0) / stay.reviews.length\r\n        }))\r\n        if (n > staysWithAvg.length) {\r\n            return false;\r\n        }\r\n        staysWithAvg = staysWithAvg\r\n            .sort((a, b) => {\r\n                return b.avgRate - a.avgRate\r\n            })\r\n            .slice(0, n)\r\n\r\n        this.setState({ staysToDisplay: staysWithAvg })\r\n    }\r\n\r\n    render() {\r\n        const { staysToDisplay } = this.state\r\n        if (!staysToDisplay) return <LoadingSpinner/>\r\n        // const { stays } = this.props\r\n        // const topRated = this.topReviews\r\n        // console.log(topRated);\r\n        return (\r\n\r\n            <div className=\"top-rated\">\r\n                {staysToDisplay.map(stay => <StayPreview key={stay._id}\r\n                    stay={stay} />)}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n        filterBy: state.stayModule.filterBy,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStays,\r\n\r\n}\r\n\r\nexport const TopList = connect(mapStateToProps, mapDispatchToProps)(_TopList)","import { LoadingSpinner } from './LoadingSpinner'\r\nimport { StayPreview } from './StayPreview'\r\n\r\nexport function StayList({stays}) {\r\n    if (!stays) return <LoadingSpinner/>\r\n    return (\r\n        <section className=\"stay-list\">\r\n            {stays.map(stay => <StayPreview key={stay._id}\r\n                stay={stay}/>)}\r\n        </section>\r\n    )\r\n}","import { TextField } from '@material-ui/core'\r\n// import { useForm } from '../services/customHooks'\r\n\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport React from 'react';\r\nimport { loadStays, setFilter } from '../store/actions/stay.actions.js'\r\n\r\n\r\n\r\n\r\n\r\nexport const StayFilterSort = () => {\r\n   \r\n\r\n    // const location = useLocation()\r\n    // const searchParams = new URLSearchParams(location.search);\r\n    // const sortBys = searchParams.get('sortBy')\r\n    \r\n    // const searchAll = searchParams.getAll('searchTxt', 'sortBy', 'type')\r\n    // console.log('searchAll', searchAll)\r\n    // console.log('sortBy', sortBys)\r\n\r\n    const dispatch = useDispatch()\r\n    const {  filterBy } = useSelector(state => state.stayModule)\r\n\r\n    \r\n    const history = useHistory()\r\n    \r\n   \r\n    const { type, sortBy, searchTxt } = filterBy\r\n    \r\n    const handleChange = ({ target }) => {\r\n        const { name, value } = target\r\n\r\n        const newFilterBy = {...filterBy, [name]: value}\r\n        \r\n        dispatch(setFilter(newFilterBy))        \r\n        dispatch(loadStays(newFilterBy))\r\n        history.push(`/stay?searchTxt=${searchTxt}&type=${newFilterBy.type}&sortBy=${newFilterBy.sortBy}`)\r\n        \r\n\r\n    }\r\n\r\n    \r\n\r\n    return (\r\n        <div className=\"filter-css\">\r\n            <h1>Places to stay for you</h1>\r\n            <TextField\r\n                select\r\n                name=\"type\"\r\n                size=\"small\"\r\n                label=\"Type\"\r\n                color=\"secondary\"\r\n                value={type}\r\n                SelectProps={{ native: true }}\r\n                variant=\"outlined\"\r\n                onChange={handleChange}\r\n            >\r\n                <option value=\"all\">All</option>\r\n                <option value=\"Caravan\">Caravan</option>\r\n                <option value=\"Villa\">Villa</option>\r\n                <option value=\"Apartment\">Apartment</option>\r\n                <option value=\"Guesthouse\">Guesthouse</option>\r\n            </TextField>\r\n            <TextField\r\n                select\r\n                name=\"sortBy\"\r\n                size=\"small\"\r\n                label=\"Sort by\"\r\n                value={sortBy}\r\n                color=\"secondary\"\r\n                SelectProps={{ native: true }}\r\n\r\n                id=\"outlined-basic\"\r\n                variant=\"outlined\"\r\n\r\n                onChange={handleChange}\r\n            >\r\n                <option value=\"name\">Name</option>\r\n                <option value=\"price\">Price</option>\r\n            </TextField>\r\n\r\n        </div >\r\n    )\r\n}\r\n\r\n\r\n","import { Map, Marker, GoogleApiWrapper } from 'google-maps-react';\r\nimport { Component } from 'react';\r\n\r\nclass _GoogleMap extends Component {\r\n\r\n    state = {\r\n        lat: this.props.stay.loc.lat,\r\n        lng: this.props.stay.loc.lng\r\n    }\r\n    \r\n\r\n    onMapClicked = (props, map, ev) => {\r\n        this.setState({ lat: ev.latLng.lat(), lng: ev.latLng.lng() })\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"map\">\r\n                    <Map className=\"\"\r\n                        google={this.props.google}\r\n                        zoom={12}\r\n\r\n\r\n                        initialCenter={{\r\n\r\n                            lat: this.props.stay.loc.lat,\r\n                            lng: this.props.stay.loc.lng\r\n                        }}\r\n                        center={this.state}\r\n                        onClick={this.onMapClicked}\r\n                    >\r\n\r\n                        <Marker\r\n                            position={this.state}\r\n                            name={'Current location'} />\r\n\r\n                        {/* <InfoWindow\r\n                            visible={true}\r\n                            position={this.state}\r\n                        >\r\n                            <div className=\"marker\">\r\n                                <h1>{\"$\" + this.props.stay.price}</h1>\r\n                            </div>\r\n                        </InfoWindow> */}\r\n                    </Map>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport const StayMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyBbTZyN_EMhg5_KqY2QPa6StarWQzJ2zp0')\r\n})(_GoogleMap)\r\n","export function ReviewsDetails({ review, onOpenReviewModal }) {\r\n    return (\r\n        <div className=\"review \">\r\n            <div className=\"review-sender stay-details-pics\">\r\n                <img className=\"host-avatar\" src={review.by.imgUrl} alt=\"\" />\r\n                <h2 className=\"reivew-sender-name\">{review.by.fullname}</h2>\r\n            </div>\r\n            <div className=\"rev-txt\">\r\n                <p>{review.txt}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {ReviewsDetails} from './ReviewsDetails'\r\nexport function ReviewsList({reviews, onOpenReviewModal}){\r\n    return(\r\n        <div className=\"review-list flex wrap\">\r\n            {reviews.map(review=><ReviewsDetails onOpenReviewModal={onOpenReviewModal} review={review} key={review.id}/>)}\r\n        </div>\r\n    )\r\n}","import { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { ReviewsList } from './ReviewsList'\r\nimport { ReviewsStats } from './ReviewsStats'\r\n\r\nexport function ReviewsModal({ reviews, reviewsAvg, closeModal }) {\r\n    return (\r\n        <div className=\"reviews-modal\">\r\n            <div className=\"modal-header\">\r\n                <FontAwesomeIcon onClick={closeModal} className=\"btn-close\" icon={faTimes} />\r\n                <div className=\"modal-stats\">\r\n                    <ReviewsStats reviews={reviews} reviewsAvg={reviewsAvg} />\r\n                </div>\r\n            </div>\r\n            <div className=\"modal-main\">\r\n                <ReviewsList reviews={reviews} />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { ReviewsList } from './ReviewsList'\r\nimport { ReviewsModal } from './ReviewsModal'\r\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from 'body-scroll-lock';\r\nimport { LoadingSpinner } from './LoadingSpinner';\r\n\r\n\r\nexport class StayReviews extends React.Component {\r\n\r\n    state = {\r\n        stay: null,\r\n        isModalOpen: false,\r\n    }\r\n\r\n    targetRef = null;\r\n    targetElement = null;\r\n    \r\n\r\n    componentDidMount() {\r\n        const {stay} = this.props\r\n        this.setState({ stay },()=>{\r\n            this.targetRef = React.forwardRef(() => <ReviewsModal ref={this.targetRef} reviews={this.state.stay.reviews} reviewsAvg={this.reviewsAvg} closeModal={this.closeModal}/>);\r\n            this.targetElement = this.targetRef.current;\r\n        })\r\n    }\r\n    reviewsAvg = () => {\r\n        const reviews = this.state.stay.reviews\r\n        const avg = reviews.reduce((acc, review) => acc += review.rate, 0) / reviews.length\r\n        return avg.toFixed(2)\r\n    }\r\n    onOpenReviewModal = () => {\r\n        this.setState({...this.state, isModalOpen:true})\r\n        disableBodyScroll(this.targetElement);\r\n    }\r\n    \r\n    closeModal =()=>{\r\n        this.setState({...this.state, isModalOpen:false})\r\n        enableBodyScroll(this.targetElement);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearAllBodyScrollLocks();\r\n      }\r\n\r\n\r\n    render() {\r\n        const {stay} = this.state\r\n        if  (!stay) return <LoadingSpinner/>\r\n        return (\r\n            <div className=\"stay-reviews\">\r\n                <ReviewsList reviews={stay.reviews} onOpenReviewModal={this.onOpenReviewModal}/>\r\n                {this.state.isModalOpen && <ReviewsModal ref={this.targetRef} reviews={stay.reviews} reviewsAvg={this.reviewsAvg} closeModal={this.closeModal}/>}\r\n                <button className=\"show-all-rev-btn\" onClick={this.onOpenReviewModal}>Show all {stay.reviews.length} reviews</button>\r\n                <div className={this.state.isModalOpen ? \"overlay active\" : \"overlay\"} id=\"overlay\" onClick={this.closeModal}></div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n","import { storageService } from './async-storage.service.js'\r\nimport { httpService } from './http.service.js'\r\n\r\n// const data = require('../data/stays.json')\r\n\r\n// let gOrders = data.order\r\nwindow.storageService = storageService;\r\n\r\n// const STOR\r\n\r\n// const axios = require('axios');\r\n\r\n// - // for Deverlop without backend\r\n// const STORAGE_KEY = 'order'\r\n\r\nexport const orderService = {\r\n    query,\r\n    getById,\r\n    remove,\r\n    save,\r\n    \r\n}\r\n\r\n// const BASE_URL = process.env.NODE_ENV === 'production' ? '/api/' : 'http://localhost:3030/api/order'\r\n\r\nfunction query() {\r\n    return httpService.get(`order`)\r\n\r\n    // return storageService.query(STORAGE_KEY).then(orders => {\r\n    //     if (!orders || !orders.length) orders = gOrders\r\n    //     return orders\r\n    // })\r\n    // return axios.get(`${BASE_URL}`).then((res=>res.data))\r\n}\r\n\r\nfunction getById(orderId) {\r\n    // console.log(orderId)\r\n    return httpService.get(`order/${orderId}`)\r\n    // return storageService.get(STORAGE_KEY, orderId)\r\n    // return axios.get(`${BASE_URL}/${orderId}`).then((res => res.data))\r\n}\r\nfunction remove(orderId) {\r\n    return httpService.delete(`order/${orderId}`)\r\n    // return storageService.remove(STORAGE_KEY, stayId)\r\n    // return axios.delete(`${BASE_URL}/${stayId}`).then((res => res.data))\r\n}\r\n\r\n// httpService.put(stay/stayId, stay)\r\n\r\nasync function save(order) {\r\n    if (order._id) {\r\n        return await httpService.put(`order/${order._id}`, order)\r\n        // return storageService.put(STORAGE_KEY, order)\r\n        // return axios.put(`${BASE_URL}`, order).then(res => res.data)\r\n    } else {\r\n        return await httpService.post(`order`, order)\r\n        // return storageService.post(STORAGE_KEY, order)\r\n        // return axios.post(`${BASE_URL}`, order).then(res => res.data)\r\n    }\r\n}\r\n","import io from 'socket.io-client'\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n// socketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket\r\n  const socketService = {\r\n    setup() {\r\n      socket = io(baseUrl)\r\n    },\r\n    on(eventName, cb) {\r\n      socket.on(eventName, cb)\r\n      console.log('new conection front');\r\n    },\r\n    off(eventName, cb) {\r\n      socket.off(eventName, cb)\r\n    },\r\n    emit(eventName, data) {\r\n      socket.emit(eventName, data)\r\n      console.log('emitted (front): event-', eventName, 'data-', data);\r\n    },\r\n    terminate() {\r\n      socket = null\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    setup() {\r\n      listenersMap = {}\r\n    },\r\n    terminate() {\r\n      this.setup()\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      if (!listenersMap[eventName]) return\r\n      listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      console.log('eventName:', eventName, 'data:', data);\r\n      if (!listenersMap[eventName]) {\r\n        console.log('!listenersMap[eventName]');\r\n        return\r\n      }\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      })\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n    },\r\n  }\r\n  return socketService\r\n}\r\n\r\n\r\n// Basic Tests\r\n// function cb(x) {console.log(x)}\r\n// socketService.on('baba', cb)\r\n// socketService.on('mama', cb)\r\n// socketService.emit('baba', 'DATA')\r\n// socketService.off('baba', cb)\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nexport default function TableDatePicker(props) {\r\n  const [startDate, setStartDate] = useState(props.startDate || new Date());\r\n  const [endDate, setEndDate] = useState(props.endDate || new Date());\r\n\r\n  useEffect(() => {\r\n    props.setDates(startDate, endDate);\r\n  }, [startDate, endDate]);\r\n\r\n  return (\r\n    <div className=\"date-picker \">\r\n     \r\n        <DatePicker inputStyle={{ textAlign: \"flex-start\" }} className=\"start-date\"\r\n          selected={startDate}\r\n          selectsStart\r\n          startDate={startDate}\r\n          endDate={endDate}\r\n          onChange={(date) => {\r\n            setStartDate(date)\r\n          }} />\r\n      \r\n\r\n        <DatePicker className=\"end-date\"\r\n          selected={endDate}\r\n          selectsEnd\r\n          startDate={startDate}\r\n          endDate={endDate}\r\n          minDate={startDate}\r\n          onChange={(date) => {\r\n            setEndDate(date)\r\n          }} />\r\n    \r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function IconAlerts() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport IconAlerts from './IconAlerts.jsx'\r\n\r\nfunction rand() {\r\n  return Math.round(Math.random() * 20) - 10;\r\n}\r\n\r\nfunction getModalStyle() {\r\n  const top = 50 + rand();\r\n  const left = 50 + rand();\r\n\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 400,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\nexport default function SimpleModal({loggedInUser}) {\r\n  const classes = useStyles();\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const toggleOpen = () => {\r\n    setOpen(!open)\r\n  }\r\n\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper}>\r\n      <h2 id=\"simple-modal-title\"> </h2>\r\n      <p id=\"simple-modal-description\">\r\n        {loggedInUser && <span>Your order was submitted successfully!</span>}\r\n        {!loggedInUser && <span>Please Login first</span>}\r\n      </p>\r\n      <IconAlerts />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <button className=\"btn-btn-save\" onClick={toggleOpen}>\r\n        <h2>Reserve</h2>\r\n      </button>\r\n      <Modal\r\n        open={open}\r\n        onClose={toggleOpen}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","import SimpleModal from './SimpleModal.jsx'\r\n\r\n\r\n\r\nexport function ChecksModal({price, nightCount, totalPrice, loggedInUser}) {\r\n    return (\r\n        <div className=\"guests-modal\">\r\n            <div className=\"checks-modal-header\">\r\n                <SimpleModal loggedInUser={loggedInUser}/>\r\n                <p>You won't get charged yet</p>\r\n                <div className=\"price-calc flex space-between\">\r\n                    <span className=\"underline\">${price} X {nightCount} nights</span>\r\n                    <span>${totalPrice}</span>\r\n                </div>\r\n                <div className=\"service-fee flex space-between\">\r\n                    <span className=\"underline\">Service fee</span>\r\n                    <span>$10</span>\r\n                </div>\r\n                <div className=\"total-price flex space-between\">\r\n                    <span>Total</span>\r\n                    <span>${totalPrice + 10}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { Component } from \"react\";\r\n\r\nexport class Button extends Component {\r\n  render() {\r\n    return <button type=\"button\" className=\"order-guests-btn left-left\" onClick={this.props.action}>{this.props.title}</button>;\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { Component } from 'react';\r\nimport { Button } from './Button.jsx'\r\n\r\n\r\nexport class AddGuest extends Component {\r\n\r\n    state = {\r\n        guests: {\r\n            adults: 0,\r\n            kids: 0\r\n        }\r\n    }\r\n\r\n    incrementCountAdults = (ev) => {\r\n        ev.stopPropagation()\r\n        this.setState({\r\n            adults: { ...this.state.guests.adults++ }\r\n        }, () => {\r\n            this.props.setGuests(this.state.guests)\r\n        });\r\n    };\r\n\r\n    decrementCountAdutls = (ev) => {\r\n        ev.stopPropagation()\r\n        if (this.state.guests.adults === 0) return\r\n        this.setState({\r\n            adults: this.state.guests.adults--\r\n        }, () => {\r\n            this.props.setGuests(this.state.guests)\r\n        });\r\n        console.log('adults', this.state.guests.adults)\r\n    };\r\n    incrementCountKids = (ev) => {\r\n        ev.stopPropagation()\r\n        this.setState({\r\n            kids: { ...this.state.guests.kids++ }\r\n        }, () => {\r\n            this.props.setGuests(this.state.guests)\r\n        });\r\n    };\r\n\r\n    decrementCountKids = (ev) => {\r\n        ev.stopPropagation()\r\n        if (this.state.guests.kids === 0) return\r\n        this.setState({\r\n            kids: this.state.guests.kids--\r\n        }, () => {\r\n            this.props.setGuests(this.state.guests)\r\n        });\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n\r\n        const { adults, kids } = this.state.guests\r\n        return (\r\n\r\n\r\n            <div className=\"add-guests-modal\">\r\n                <MenuItem name=\"adults\" value={adults}>\r\n                    <p className=\"guest-title\">Adults</p>\r\n                    <Button title={\"-\"} action={this.decrementCountAdutls} />\r\n                    <span className=\"p-span left-left\">{this.state.guests.adults}</span>\r\n                    <Button title={\"+\"} action={this.incrementCountAdults} />\r\n                </MenuItem>\r\n\r\n                <MenuItem>\r\n                    <p className=\"guest-title\">Kids </p>\r\n                    <Button name=\"kids\" value={kids} title={\"-\"} action={this.decrementCountKids} />\r\n                    <span min=\"0\" className=\"p-span left-left\">{this.state.guests.kids}</span>\r\n                    <Button title={\"+\"} action={this.incrementCountKids} />\r\n                </MenuItem>\r\n            </div>\r\n\r\n\r\n        )\r\n    }\r\n}\r\n\r\n","import { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { AddGuest } from './AddGuest.jsx'\r\n\r\n\r\n\r\nexport function GuestsModal(props) {\r\n    return (\r\n        <div className=\"guests-modal\">\r\n            <div className=\"modal-header\">\r\n                <FontAwesomeIcon onClick={props.closeModal} className=\"btn-close\" icon={faTimes} />\r\n                <AddGuest setGuests={props.setGuests}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { connect } from 'react-redux'\r\n\r\nimport React from 'react';\r\n\r\nimport { saveOrder } from '../../store/actions/order.actions.js'\r\nimport { socketService } from '../../services/socketService.js';\r\nimport TableDatePicker from './DatePicker.jsx'\r\nimport { ChecksModal } from './ChecksModal.jsx'\r\nimport { GuestsModal } from './GuestsModal'\r\n\r\n\r\n\r\n\r\nexport class _AddOrder extends React.Component {\r\n    state = {\r\n        isModalOpen: false,\r\n        isModalCheckOpen: false,\r\n        order: {\r\n            hostId: this.props.stay?.host._id,\r\n            createdAt: new Date(Date.now()),\r\n            buyer: {\r\n                _id: (!this.props.loggedInUser) ? '' : this.props.loggedInUser._id,\r\n                fullname: (!this.props.loggedInUser) ? '' : this.props.loggedInUser.fullname,\r\n            },\r\n            startDate: 0,\r\n            endDate: 0,\r\n            nightCount: 0,\r\n            totalPrice: 0,\r\n            guests: {\r\n                adults: 0,\r\n                kids: 0\r\n            },\r\n            stay: {\r\n                _id: this.props.stay?._id,\r\n                name: this.props.stay?.name,\r\n                price: this.props.stay?.price\r\n            },\r\n            status: 'Pending'\r\n        },\r\n        msg: { txt: '' },\r\n        msgs: [],\r\n        topic: 'Love',\r\n        isBotMode: true\r\n    }\r\n\r\n\r\n   \r\n\r\n    calcTotalPrice = (nightCount) => {\r\n        const nightPrice = this.props.stay?.price\r\n        const totalPrice = nightPrice * nightCount\r\n        return totalPrice\r\n    }\r\n\r\n    getTripTime = (startDate, endDate) => {\r\n        const diff = new Date(endDate).getTime() - new Date(startDate).getTime()\r\n        return diff / 1000 / 60 / 60 / 24\r\n    }\r\n\r\n    setDates = (startDate, endDate) => {\r\n        let nightCount = this.getTripTime(startDate, endDate)\r\n        if (nightCount < 0) nightCount = 0\r\n        const totalPrice = this.calcTotalPrice(nightCount)\r\n        this.setState({ order: { ...this.state.order, startDate, endDate, nightCount, totalPrice } })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const field = target.name;\r\n        const value = target.type === \"radio\" ? +target.value : target.value;\r\n        this.setState((prevState) => ({\r\n            ...prevState,\r\n            order: {\r\n                ...prevState.order,\r\n                [field]: value,\r\n            },\r\n        }));\r\n    };\r\n\r\n    startNewChat = () => {\r\n        socketService.setup()\r\n        socketService.emit('chat topic', this.state.order.stay.name)\r\n        socketService.on('chat addMsg', this.addMsg)\r\n\r\n        const from = this.state.order.buyer.fullname || 'MyBot'\r\n        socketService.emit('chat newMsg', { from, txt: `You have a new pandding order from ${from}` })\r\n    }\r\n\r\n    addMsg = newMsg => {\r\n        this.setState(prevState => ({ msgs: [...prevState.msgs, newMsg] }))\r\n        if (this.state.isBotMode) this.sendBotResponse();\r\n    }\r\n\r\n    onSaveOrder = (ev) => {\r\n        ev.preventDefault();\r\n        if (this.props.loggedInUser) {\r\n            console.log('savedOrder', this.state.order)\r\n            this.startNewChat()\r\n\r\n\r\n            this.setState({ order: { ...this.state.order, startDate: '', endDate: '' }, guests: { adults: 0, kids: 0 } })\r\n        } else {\r\n            return;\r\n        }\r\n        \r\n    }\r\n\r\n    setGuests = (guests) => {\r\n        this.setState({ order: { ...this.state.order, guests } })\r\n    }\r\n\r\n    onOpenGuestsModal = (ev) => {\r\n        ev.stopPropagation()\r\n        this.setState({ ...this.state, isModalOpen: true })\r\n    }\r\n    onOpenCheckModal = () => {\r\n\r\n        this.setState({ ...this.state, isModalCheckOpen: true })\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ ...this.state, isModalOpen: false })\r\n    }\r\n\r\n    render() {\r\n        \r\n        const price = this.props.stay?.price\r\n        const loggedInUser = this.props?.loggedInUser\r\n        const { startDate, endDate, nightCount, totalPrice } = this.state.order\r\n        return (\r\n            <section>\r\n                <form className=\"trip-form\" onSubmit={this.onSaveOrder}>\r\n                    <TableDatePicker setDates={this.setDates} startDate={startDate} endDate={endDate} />\r\n                    <button type=\"button\" className=\"guests-btn\" onClick={this.onOpenGuestsModal}>Guests</button>\r\n                    {this.state.isModalOpen && <GuestsModal setGuests={this.setGuests} closeModal={this.closeModal} />}\r\n\r\n                    <button type=\"button\" className=\"btn-btn-save\" onClick={this.onOpenCheckModal} style={{ display: !this.state.isModalCheckOpen ? 'block' : 'none' }}><h2>Check availability</h2></button>\r\n                    {this.state.isModalCheckOpen && <ChecksModal loggedInUser={loggedInUser} price={price} nightCount={nightCount} totalPrice={totalPrice} />}\r\n\r\n                </form>\r\n            </section>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        orders: state.orderModule.orders,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    saveOrder,\r\n}\r\n\r\nexport const AddOrder = connect(mapStateToProps, mapDispatchToProps)(_AddOrder)\r\n","import { orderService } from '../../services/orderService.js'\r\n\r\n\r\n// export function saveOrder(order) { // Action Creator\r\n//     return dispatch => {\r\n//         return orderService.save(order)\r\n//         .then((savedOrder) => {\r\n//             if(!order._id) dispatch({ type: 'ADD_ORDER', order: savedOrder })\r\n//             else dispatch({ type: 'UPDATE_ORDER', order: savedOrder })\r\n//             console.log(savedOrder)\r\n//             })\r\n//     }\r\n// }\r\n\r\nexport function saveOrder(order) { // Action Creator\r\n    return async dispatch => {\r\n        try {\r\n            const savedOrder = await orderService.save(order)\r\n            const action = {\r\n                type: 'ADD_ORDER',\r\n                order: savedOrder\r\n            }\r\n            dispatch(action)\r\n        } catch (err) {\r\n            console.log('Error in orderActions on save :', err);\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadOrders() { // Action Creator\r\n    return dispatch => {\r\n        dispatch({ type: 'LOADING_ORDERS', isLoading: true })\r\n        return orderService.query()\r\n            .then(orders => {\r\n                const action = {\r\n                    type: 'SET_ORDERS',\r\n                    orders\r\n                }\r\n                dispatch(action)\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                dispatch({ type: 'ORDER_ERR', err })\r\n            })\r\n    }\r\n}","export const cloudinaryService = {\r\n  uploadImg\r\n}\r\nfunction uploadImg(ev) {\r\n  const CLOUD_NAME = 'dz5exyj5l'\r\n  const PRESET_NAME = 'cj6vnjkd'\r\n  const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n\r\n  const formData = new FormData();\r\n  formData.append('file', ev.target.files[0])\r\n  formData.append('upload_preset', PRESET_NAME);\r\n\r\n  return fetch(UPLOAD_URL, {\r\n    method: 'POST',\r\n    body: formData\r\n  })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      console.log(res)\r\n\r\n      return res\r\n    })\r\n    .catch(err => console.error(err))\r\n}\r\n","import { Component } from 'react'\r\nimport { cloudinaryService } from '../services/cloudinaryService'\r\n\r\nexport class Upload extends Component {\r\n  state = {\r\n    imgUrl: null,\r\n    height: 100,\r\n    width: 100,\r\n    isUploading: false\r\n  }\r\n\r\n  uploadImg = async (ev) => {\r\n    this.setState({ isUploading: true })\r\n    const { secure_url, height, width } = await cloudinaryService.uploadImg(ev)\r\n    this.setState({ isUploading: false, imgUrl: secure_url, height, width })\r\n    this.props.getImgUrl(this.state.imgUrl)\r\n  }\r\n\r\n  get uploadMsg() {\r\n    const { imgUrl, isUploading } = this.state\r\n    if (imgUrl) return 'Upload Another?'\r\n    return isUploading ? 'Uploading....' : 'Upload Image'\r\n  }\r\n\r\n  render() {\r\n    const { imgUrl} = this.state\r\n    const previewStyle = {\r\n      backgroundImage: `url(${imgUrl})`,\r\n      // width: 100,\r\n      // height: 100,\r\n    }\r\n    return (\r\n      <div className=\"upload-container\">\r\n       {imgUrl && <div className=\"upload-grid\">\r\n          <div className=\"upload-preview\" style={previewStyle}>\r\n          </div>\r\n        </div>}\r\n        <div>\r\n          <label htmlFor=\"imgUpload\">{this.uploadMsg}</label>\r\n          <input type=\"file\" onChange={this.uploadImg} accept=\"img/*\" id=\"imgUpload\" />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEnvelopeRegular(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"far\",\n    \"data-icon\": \"envelope\",\n    className: \"svg-inline--fa fa-envelope fa-w-16\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEnvelopeRegular);\nexport default __webpack_public_path__ + \"static/media/envelope-regular.7237e68b.svg\";\nexport { ForwardRef as ReactComponent };","import { useDispatch, useSelector } from 'react-redux'\r\nimport { useState, useEffect } from 'react';\r\n\r\nimport { saveStay, setSelectedStay } from '../store/actions/stay.actions.js'\r\nimport { stayService } from '../services/stay.service.js';\r\nimport { Upload } from './Upload';\r\n\r\n\r\nexport const StayEdit = ({ stayId }) => {\r\n    const [stay, setStay] = useState(stayService.getEmptyStay)\r\n    const { loggedInUser } = useSelector(state => state.userModule)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        loadStay()\r\n    }, [])\r\n\r\n    const loadStay = async () => {\r\n        \r\n        if (stayId) {\r\n            const stayToEdit = setSelectedStay(stayId)\r\n            setStay(stayToEdit)\r\n        } else {\r\n            const host = { _id: loggedInUser._id, fullname: loggedInUser.fullname, imgUrl: loggedInUser.imgUrl }\r\n            setStay(prevStay => ({ ...prevStay, host }))\r\n        }\r\n    }\r\n\r\n    const handleChange = ({ target }) => {\r\n        const { name, value } = target\r\n        setStay(prevStay => ({ ...prevStay, [name]: value }))\r\n    }\r\n\r\n    const toggleCheckbox = ({ target }) => {\r\n        const { name, checked } = target\r\n        const { amenities } = stay\r\n        if (checked === true) amenities.push(name)\r\n        else {\r\n            const idx = amenities.indexOf(name)\r\n            amenities.splice(idx, 1)\r\n        }\r\n        console.log(amenities);\r\n        setStay(prevStay => ({ ...prevStay, amenities }))\r\n    }\r\n\r\n    const getImgUrl = (imgUrl) => {\r\n        console.log('cloudeUrl', imgUrl);\r\n        stay.imgUrls.push(imgUrl)\r\n    }\r\n\r\n    const handleAdressChange = ({ target }) => {\r\n        const { name, value } = target\r\n        setStay( prevStay => ({ ...prevStay, loc: { ...stay.loc, [name]: value }} ) )\r\n    }\r\n\r\n    const onGetLoc = async () => {\r\n        const { address } = stay.loc\r\n        console.log('address', address);\r\n        const res = await stayService.locFromAddress(address)\r\n        console.log(res.lat)\r\n        setStay(prevStay => ({ ...prevStay, loc: { ...stay.loc, lat: res.lat, lng: res.lng } } ))\r\n    }\r\n\r\n    const onAddStay =  (ev) => {\r\n        ev.preventDefault()\r\n        onGetLoc()\r\n        console.log(stay);\r\n        dispatch(saveStay(stay))\r\n        //CLEAN-UP\r\n        setStay(stayService.getEmptyStay())\r\n    }\r\n\r\n    const { name, loc, type, price, capacity, summary } = stay\r\n    return (\r\n        <div >\r\n            <form className=\"add-form\" onSubmit={(ev) => onAddStay(ev)}>\r\n                <Upload getImgUrl={getImgUrl} />\r\n                <input type=\"text\" name=\"name\" placeholder=\"Name\"\r\n                    value={name} onChange={handleChange} required />\r\n                <input type=\"text\" name=\"address\" placeholder=\"Address\"\r\n                    value={loc.address} onChange={handleAdressChange} />\r\n\r\n                <div className=\"primary-details\">\r\n                    <select name=\"type\" value={type} onChange={handleChange} required>\r\n                        <option value=\"\" disabled>Listing type</option>\r\n                        <option value=\"Apartment\">Apartment</option>\r\n                        <option value=\"Entire-House\">Entire House</option>\r\n                        <option value=\"Villa\">Villa</option>\r\n                        <option value=\"Duplex\">Duplex</option>\r\n                        <option value=\"Caravan\">Caravan</option>\r\n                        <option value=\"Hideaway\">Hideaway</option>\r\n                    </select>\r\n                    <input className=\"input-capacity\" type=\"number\" placeholder=\"Capacity\"\r\n                        name=\"capacity\" value={capacity} onChange={handleChange} />\r\n                    <input className=\"input-price\" type=\"number\" placeholder=\"Price / night\"\r\n                        name=\"price\" value={price} onChange={handleChange} />\r\n                </div>\r\n\r\n                <div>\r\n                    <p>Amenities</p>\r\n                    <div className=\"amenities\">\r\n                        <span>\r\n                            <input type=\"checkbox\" name=\"wifi\" checked={null} value={true}\r\n                                onChange={toggleCheckbox} />\r\n                            <label htmlFor=\"wifi\">Wifi</label>\r\n                        </span>\r\n                        <span>\r\n                            <input type=\"checkbox\" name=\"TV\" checked={null} value={true}\r\n                                onChange={toggleCheckbox} />\r\n                            <label htmlFor=\"TV\">TV</label>\r\n                        </span>\r\n                        <span>\r\n                            <input type=\"checkbox\" name=\"Pool\" checked={null} value={true}\r\n                                onChange={toggleCheckbox} />\r\n                            <label htmlFor=\"Pool\">Pool</label>\r\n                        </span>\r\n                        <span>\r\n                            <input type=\"checkbox\" name=\"Kitchen\" checked={null} value={true}\r\n                                onChange={toggleCheckbox} />\r\n                            <label htmlFor=\"Kitchen\">Kitchen</label>\r\n                        </span>\r\n                        <span>\r\n                            <input type=\"checkbox\" name=\"Air Conditioning\" checked={null} value={true}\r\n                                onChange={toggleCheckbox} />\r\n                            <label htmlFor=\"Air Conditioning\">Air Conditioning</label>\r\n                        </span>\r\n                        <span>\r\n                            <input type=\"checkbox\" name=\"Pets Allowed\" checked={null} value={true}\r\n                                onChange={toggleCheckbox} />\r\n                            <label htmlFor=\"Pets Allowed\">Pets Allowed</label>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"add-summary\">\r\n                    <textarea placeholder=\"Summary\" name=\"summary\" maxLength=\"250\"\r\n                        value={summary} onChange={handleChange}>\r\n                    </textarea>\r\n                </div>\r\n                <div className=\"form-controlls\">\r\n                    <button>Save</button>\r\n                    <a href=\"/\">cancel</a>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}","export function UserInbox() {\r\n    return (\r\n        <section className=\"user-inbox\">\r\n            <h1>USER INBOX</h1>\r\n        </section>\r\n    )\r\n}","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPhoneSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"phone\",\n    className: \"svg-inline--fa fa-phone fa-w-16\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPhoneSolid);\nexport default __webpack_public_path__ + \"static/media/phone-solid.ac5f8fa5.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { loadOrders } from '../store/actions/order.actions'\r\nimport {ReactComponent as Envelope} from '../assets/img/icons/envelope-regular.svg'\r\nimport {ReactComponent as Phone} from '../assets/img/icons/phone-solid.svg'\r\n\r\nclass _BookingTable extends React.Component {\r\n\r\n    state = {\r\n        ordersToDisplay: []\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.props.loadOrders()\r\n        const { orders } = this.props\r\n        const ordersToDisplay = orders.filter(order => order.stay._id === this.props.stayId)\r\n        this.setState({ ordersToDisplay })\r\n    }\r\n\r\n    getFormatDate = (timstamp) => {\r\n        const date = new Date(timstamp).toLocaleDateString('he-IL')\r\n        return date\r\n    }\r\n\r\n    render() {\r\n        const { ordersToDisplay } = this.state\r\n        return (\r\n            <div className=\"table-container\">\r\n                <table >\r\n                    <thead>\r\n                        <tr>\r\n\r\n                        <th className=\"t-name\">Guest Name</th>\r\n                        <th className=\"t-guests\">Guests</th>\r\n                        <th>Check In</th>\r\n                        <th>Check Out</th>\r\n                        <th>Contact</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {ordersToDisplay.map(order => {\r\n                            return (\r\n                                <tr key={order._id}>\r\n                                    <td className=\"t-name\">{order.buyer.fullname}</td>\r\n                                    <td className=\"t-guests\">{parseInt(order.guests.adults) + parseInt(order.guests.kids)}</td>\r\n                                    <td>{this.getFormatDate(order.startDate)}</td>\r\n                                    <td>{this.getFormatDate(order.endDate)}</td>\r\n                                    <td><Envelope/><Phone/></td>\r\n                                </tr>\r\n                            )\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        orders: state.orderModule.orders,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadOrders,\r\n}\r\n\r\nexport const BookingTable = connect(mapStateToProps, mapDispatchToProps)(_BookingTable)","import { Link } from 'react-router-dom'\r\nimport { BookingTable } from './BookingTable.jsx'\r\nimport { LoadingSpinner } from './LoadingSpinner.jsx'\r\n\r\nexport function UserStayPreview({ stay }) {\r\n\r\n\r\n    if (!stay) return <LoadingSpinner />\r\n\r\n    return (\r\n        <div className=\"user-stay-preview\">\r\n            <div className=\"user-stay-header\">\r\n                <p><span className=\"medium\">Name: </span>{stay.name}</p>\r\n                <p><span className=\"medium\">Type: </span>{stay.type} in {stay.loc.address}</p>\r\n            </div>\r\n            <div className=\"user-stay-content\">\r\n                <Link to={'/stay/' + stay._id}>\r\n                    <img src={stay.imgUrls[0]} alt=\"stay img\" />\r\n                </Link>\r\n                <BookingTable stayId={stay._id} />\r\n            </div>\r\n        </div>\r\n    )\r\n}","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAirbnb(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fab\",\n    \"data-icon\": \"airbnb\",\n    className: \"svg-inline--fa fa-airbnb fa-w-14\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M224 373.12c-25.24-31.67-40.08-59.43-45-83.18-22.55-88 112.61-88 90.06 0-5.45 24.25-20.29 52-45 83.18zm138.15 73.23c-42.06 18.31-83.67-10.88-119.3-50.47 103.9-130.07 46.11-200-18.85-200-54.92 0-85.16 46.51-73.28 100.5 6.93 29.19 25.23 62.39 54.43 99.5-32.53 36.05-60.55 52.69-85.15 54.92-50 7.43-89.11-41.06-71.3-91.09 15.1-39.16 111.72-231.18 115.87-241.56 15.75-30.07 25.56-57.4 59.38-57.4 32.34 0 43.4 25.94 60.37 59.87 36 70.62 89.35 177.48 114.84 239.09 13.17 33.07-1.37 71.29-37.01 86.64zm47-136.12C280.27 35.93 273.13 32 224 32c-45.52 0-64.87 31.67-84.66 72.79C33.18 317.1 22.89 347.19 22 349.81-3.22 419.14 48.74 480 111.63 480c21.71 0 60.61-6.06 112.37-62.4 58.68 63.78 101.26 62.4 112.37 62.4 62.89.05 114.85-60.86 89.61-130.19.02-3.89-16.82-38.9-16.82-39.58z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAirbnb);\nexport default __webpack_public_path__ + \"static/media/airbnb.455dc7c6.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport { Bar} from 'react-chartjs-2';\r\n\r\nconst labels = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\r\n//\r\nexport const StayStatistics = () => {\r\n\r\n    const data = {\r\n        labels: labels,\r\n        datasets: [{\r\n            label: 'Total Bookings',\r\n            data: [17, 19, 9, 7, 6, 13, 15, 17, 12, 19, 23, 22],\r\n            backgroundColor: [\r\n                'rgba(255, 99, 132, 0.2)',\r\n                'rgba(255, 159, 64, 0.2)',\r\n                'rgba(255, 205, 86, 0.2)',\r\n                'rgba(75, 192, 192, 0.2)',\r\n                'rgba(54, 162, 235, 0.2)',\r\n                'rgba(153, 102, 255, 0.2)',\r\n            ],\r\n            borderColor: [\r\n                'rgb(255, 99, 132)',\r\n                'rgb(255, 159, 64)',\r\n                'rgb(255, 205, 86)',\r\n                'rgb(75, 192, 192)',\r\n                'rgb(54, 162, 235)',\r\n                'rgb(153, 102, 255)',\r\n            ],\r\n            borderWidth: 1\r\n        }]\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Bar data={data} />\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\n","import { useSelector } from 'react-redux'\r\nimport React, { useEffect, useState } from 'react';\r\nimport { UserStayPreview } from './UserStayPreview'\r\nimport { StayStatistics } from './StayStatistics'\r\n\r\n\r\nexport const UserStaysList = () => {\r\n    const { stays } = useSelector(state => state.stayModule)\r\n    const { loggedInUser } = useSelector(state => state.userModule)\r\n    const [staysToDisplay, setStaysToDisplay] = useState([])\r\n\r\n    useEffect(() => {\r\n        currentUserStays()\r\n    }, [stays])\r\n\r\n    const currentUserStays = () => {\r\n        const staysToDisplay = stays.filter(stay => stay.host._id === loggedInUser._id)\r\n        setStaysToDisplay(staysToDisplay)\r\n    }\r\n\r\n    if (!loggedInUser.isHost) return <div>please become a host and publish stay</div>\r\n    return (\r\n        <div className=\"stays-info\">\r\n            <section className=\"host-chart\">\r\n                <StayStatistics />\r\n            </section>\r\n            <section className=\"user-stays\">\r\n                {staysToDisplay.map(stay => <UserStayPreview key={stay._id} stay={stay} />)}\r\n            </section>\r\n        </div>\r\n    )\r\n}\r\n","import { SignIn } from './cmps/SignIn.jsx'\r\n// import { StayAdd } from './cmps/StayAdd.jsx'\r\nimport { Home } from './pages/Home.jsx'\r\nimport { About } from './pages/About.jsx'\r\nimport { StayApp } from './pages/StayApp.jsx'\r\nimport { StayDetails } from './pages/StayDetails.jsx'\r\nimport { UserProfile } from './pages/UserProfile.jsx'\r\n\r\nexport const routes = [\r\n    {\r\n        path: '/',\r\n        component: Home,\r\n    },\r\n    {\r\n        path: '/stay',\r\n        component: StayApp,\r\n    },\r\n    {\r\n        path: '/stay/:stayId',\r\n        component: StayDetails,\r\n    },\r\n    {\r\n        path: '/user',\r\n        component: UserProfile,\r\n    },\r\n    {\r\n        path: '/login',\r\n        component: SignIn,\r\n    },\r\n    {\r\n        path: '/about',\r\n        component: About,\r\n    }\r\n]","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport newYorkImg from '../assets/img/new-york.jpg'\r\nimport rioImg from '../assets/img/rio.jpg'\r\nimport sydneyImg from '../assets/img/sydney.jpg'\r\nimport { TopList } from '../cmps/TopList';\r\n\r\n\r\nexport function Home() {\r\n    return (\r\n        <div className=\"home main-layout.full\">\r\n          \r\n            <div className=\"hero main-layout\">\r\n\r\n                <p className=\"hero-txt\">Home is everywhere</p>\r\n\r\n            </div>\r\n\r\n            <div className=\"home-places main-layout\">\r\n\r\n\r\n                <h1>Popular Destinations</h1>\r\n                <div className=\"popular-destinations\">\r\n                    <Link to=\"/stay?searchTxt=new%20york\">\r\n                        <div className=\"new-york\">\r\n                            <img src={newYorkImg} alt=\"\" />\r\n                            <p>New York</p>\r\n                        </div>\r\n                    </Link>\r\n                    <Link to=\"/stay?searchTxt=sydney\">\r\n                        <div className=\"sydney\">\r\n                            <img src={sydneyImg} alt=\"\" />\r\n                            <p>Sydney</p>\r\n                        </div>\r\n                    </Link>\r\n                    <Link to=\"/stay?searchTxt=rio&type=all&sortBy=all\">\r\n                        <div className=\"rio\">\r\n                            <img src={rioImg} alt=\"\" />\r\n                            <p>Rio de Janeiro</p>\r\n                        </div>\r\n                    </Link>\r\n                </div>\r\n                <h1>Top Rated</h1>\r\n                <TopList />\r\n                <div className=\"explore-banner\">\r\n                    <p>Home is where you'll be</p>\r\n                    <button><Link to=\"/stay\">Explore</Link></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n","import { useSelector } from 'react-redux'\r\nimport React from 'react';\r\nimport { StayList } from '../cmps/StayList'\r\nimport { StayFilterSort } from '../cmps/StayFilterSort.jsx'\r\n\r\nexport const StayApp = () => {\r\n\r\n\r\n    const { stays } = useSelector(state => state.stayModule)\r\n    \r\n    return (\r\n        <div className=\"appp main-layout\">\r\n            <section className=\"stay-app\">\r\n                <StayFilterSort/>\r\n                <StayList stays={stays} />\r\n            </section>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\n// const location = useLocation()\r\n    // const searchParams = new URLSearchParams(location.search);\r\n    // let searchTxts = searchParams.get('searchTxt')\r\n\r\n    // const history = useHistory()\r\n    // const dispatch = useDispatch()\r\n\r\n    // useEffect(() => {\r\n    //     dispatch(loadStays(filterBy))\r\n    //     history.push(`/stay?searchTxt=${filterBy.searchTxt}&type=${filterBy.type}&sortBy=${filterBy.sortBy}`)\r\n    // }, [filterBy])\r\n\r\n    // const onSetFilter = (filterBy) => {\r\n    //     history.push(`/stay?searchTxt=${searchTxts}&type=${type}&sortBy=${sortBy}`)\r\n    //     dispatch(setFilter(filterBy))\r\n    //     dispatch(loadStays({...filterBy , type, sortBy}))\r\n    // }\r\n    \r\n    // const { type, sortBy, searchTxt } = filterBy","import React, { useState, useEffect } from 'react';\r\nimport { stayService } from '../services/stay.service.js'\r\nimport { ReviewsStats } from '../cmps/ReviewsStats'\r\nimport { ImgsCarousel } from '../cmps/ImgsCarousel'\r\nimport { StayMap } from '../cmps/StayMap'\r\nimport { StayReviews } from '../cmps/StayReviews'\r\nimport { AddOrder } from '../cmps/AddOrder/AddOrder.jsx'\r\n\r\n\r\nimport { faWifi, faTv, faSnowflake, faSmoking, faPaw, faUtensils, faBed, faRecycle, faMusic } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { LoadingSpinner } from '../cmps/LoadingSpinner.jsx';\r\n\r\nexport const StayDetails = ({ match }) => {\r\n    const [stay, setStay] = useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n        const loadStay = async () => {\r\n            const { stayId } = match.params\r\n            const stayToShow = await stayService.getById(stayId)\r\n            setStay(stayToShow)\r\n        }\r\n\r\n        loadStay()\r\n        // eslint-disable-next-line\r\n    }, [match.params.id])\r\n\r\n\r\n    const reviewsAvg = () => {\r\n        const avg = stay.reviews.reduce((acc, review) => acc += review.rate, 0) / stay.reviews.length\r\n        return avg.toFixed(1)\r\n    }\r\n\r\n    if (!stay) return <LoadingSpinner />\r\n    return (\r\n        <div>\r\n        \r\n\r\n            <div className=\"stay-details flex column\">\r\n                <section className=\"phone-stay-imgs full\" hidden>\r\n                    <ImgsCarousel imgUrls={stay.imgUrls} />\r\n                </section>\r\n                <p className=\"details-stay-name\">{stay.name}</p>\r\n                <section className=\"details-stay-info\">\r\n                    {stay.reviews?.length && <ReviewsStats reviews={stay.reviews} reviewsAvg={reviewsAvg} />}\r\n                    <span className=\"details-stay-location\">{stay.loc.address}</span>\r\n                </section>\r\n                <section className=\"details-stay-imgs\">\r\n                    {stay.imgUrls.map((src, index) => <img src={src} key={index} className=\"stay-img\" alt=\"\" />)}\r\n                </section>\r\n\r\n                <div className=\"booking-modal-container flex\">\r\n                    <div className=\"booking-details-container\">\r\n                        <div className=\"top-details flex\">\r\n                            <div>\r\n                                <h1>{stay.type} hosted by {stay.host.fullname}</h1>\r\n                                <h5>{stay.capacity} guests  · {stay.bedroom} bedroom · {stay.bath} bath</h5>\r\n                            </div>\r\n                            <img className=\"host-avatar\" src={stay.host.imgUrl} alt=\"\" />\r\n                        </div>\r\n                        <div className=\"summary\">\r\n                            <h1>About us</h1>\r\n                            <p className=\"sum-span\">{stay.summary}</p>\r\n                        </div>\r\n                        <div className=\"slep-arr-container\">\r\n                            <h1>Sleeping arrangements</h1>\r\n                            <div className=\"slep-arr\">\r\n                                <p className=\"arr-icon\"><FontAwesomeIcon icon={faBed} /></p>\r\n                                <p className=\"arr-icon2\">Bedroom {stay.bedroom}</p>\r\n                                <p>{stay.bedroom} double bed</p>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"amen-container\">\r\n\r\n                            <h1 className=\"amen-title\">Amenities</h1>\r\n                            <ul >\r\n                                <div className=\"amenities\">\r\n                                    <li><FontAwesomeIcon icon={faWifi} /><span>Wifi</span>  </li>\r\n                                    <li><FontAwesomeIcon icon={faTv} /> <span>TV</span> </li>\r\n                                    <li><FontAwesomeIcon icon={faSnowflake} /> <span>Air-conditioning</span> </li>\r\n                                    <li><FontAwesomeIcon icon={faSmoking} /> <span>Smoking allowed</span> </li>\r\n                                    <li><FontAwesomeIcon icon={faPaw} /> <span>Pets allowed</span> </li>\r\n                                    <li><FontAwesomeIcon icon={faUtensils} /> <span>Cooking basics</span> </li>\r\n                                    <li><FontAwesomeIcon icon={faRecycle} /> <span>Eco friendly</span> </li>\r\n                                    <li><FontAwesomeIcon icon={faMusic} /> <span>Sound system</span> </li>\r\n                                </div>\r\n\r\n                            </ul>\r\n                            {/* {stay.amenities.map(src => <li>{src}</li>)} */}\r\n                        </div>\r\n                        {/* <StaticDateRangePickerDemo/> */}\r\n                    </div>\r\n                    <div className=\"order-container flex\">\r\n                        <div className=\"order-top flex\">\r\n                            <div className=\"price\">\r\n                                <p className=\"price-num\">${stay.price}</p> <p> / night</p>\r\n\r\n                            </div>\r\n                            {stay.reviews?.length && <ReviewsStats reviews={stay.reviews} reviewsAvg={reviewsAvg} />}\r\n                        </div>\r\n                        <AddOrder stay={stay} />\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                {stay.reviews?.length &&\r\n                    <div className=\"reviews\">\r\n                        <h2>{stay.reviews?.length && <ReviewsStats reviews={stay.reviews} reviewsAvg={reviewsAvg} />}</h2>\r\n                        <div className=\"reviews-rate\">\r\n                            <div className=\"rev-layout\">\r\n                                <div className=\"rev-stats\">\r\n                                    <div className=\"rev-subj\">Cleanliness</div>\r\n                                    <div className=\"meter-container\">\r\n                                        <div className=\"meter-bcg1\"><div className=\"meter1\"></div></div>\r\n                                        <span className=\"meter-rate\">4.8</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"rev-stats\">\r\n                                    <div className=\"rev-subj\">Communication</div>\r\n                                    <div className=\"meter-container\">\r\n                                        <div className=\"meter-bcg3\"><div className=\"meter3\"></div></div>\r\n                                        <span className=\"meter-rate\">4.6</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"rev-stats\">\r\n                                    <div className=\"rev-subj\">Check-in</div>\r\n                                    <div className=\"meter-container\">\r\n                                        <div className=\"meter-bcg3\"><div className=\"meter3\"></div></div>\r\n                                        <span className=\"meter-rate\">4.6</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"rev-stats\">\r\n                                    <div className=\"rev-subj\">Accuracy</div>\r\n                                    <div className=\"meter-container\">\r\n                                        <div className=\"meter-bcg2\"><div className=\"meter2\"></div></div>\r\n                                        <span className=\"meter-rate\">4.7</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"rev-stats\">\r\n                                    <div className=\"rev-subj\">Location</div>\r\n                                    <div className=\"meter-container\">\r\n                                        <div className=\"meter-bcg1\"><div className=\"meter1\"></div></div>\r\n                                        <span className=\"meter-rate\">4.8</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"rev-stats\">\r\n                                    <div className=\"rev-subj\">Value</div>\r\n                                    <div className=\"meter-container\">\r\n                                        <div className=\"meter-bcg2\"><div className=\"meter2\"></div></div>\r\n                                        <span className=\"meter-rate\">4.7</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                        <StayReviews stay={stay} />\r\n                    </div>}\r\n                <div className=\"map-container\">\r\n                    <h1>Loction</h1>\r\n                    <StayMap className=\" stay-map\" stay={stay} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { StayEdit } from '../cmps/StayEdit'\r\nimport { UserInbox } from '../cmps/UserInbox'\r\nimport { UserStaysList } from '../cmps/UserStaysList'\r\n\r\n\r\nexport const UserProfile = () => {\r\n    const { loggedInUser } = useSelector(state => state.userModule)\r\n    const [component, setComponent] = useState('myStays')\r\n\r\n    const handleChange = ({ target }) => {\r\n        const { value } = target\r\n        setComponent(value)\r\n    }\r\n\r\n    return (\r\n            <div className=\"profile-container\">\r\n                <nav className=\"profile-nav  flex\" >\r\n                    <button value=\"myStays\" onClick={handleChange}>My Stays</button>\r\n                    <button value=\"inbox\" onClick={handleChange}>Inbox</button>\r\n                    <button value=\"add\" onClick={handleChange}>Add Listing</button>\r\n                </nav>\r\n                <div className=\"profile-content\">\r\n                    <div className=\"user-card\">\r\n                        <h5>{loggedInUser.fullname}</h5>\r\n                        <img className=\"user-avatar\" src={loggedInUser.imgUrl} alt=\"user\" />\r\n                        {/* <h6>Update Photo</h6> */}\r\n                    </div>\r\n\r\n                    {component === 'inbox' && <UserInbox />}\r\n                    {component === 'myStays' && <UserStaysList />}\r\n                    {component === 'add' && <StayEdit />}\r\n\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n","\r\nexport function About() {\r\n    \r\n    return (\r\n        <div className=\"about-page flex column align-center\">\r\n\r\n            <h1>About HomeMe</h1>\r\n            <h4>HomeMe is the new best way to find your next vaction.</h4>\r\n            <br />\r\n            <p>\r\n                The website uses the lates technologys such as ReactJS, Sockets-io , NodeJS MongoDB and more.\r\n            </p>\r\n            <h3>Meet the HomeMe crew</h3>\r\n            <div className=\"about-us\">\r\n                <p>We both graduated Coding Academy bootcamp as Full Stack Developers.\r\n                    <br />\r\n                </p>\r\n                <p>This is our final project from the course.\r\n                </p>\r\n            </div>\r\n            <div className=\"us-container flex\">\r\n                <div className=\"kasps flex align-center column\">\r\n                    <h4>Assaf Fendell</h4>\r\n                    <div className=\"a-fendell\">\r\n\r\n                    </div>\r\n                </div>\r\n                <div className=\"kasps flex align-center column\">\r\n                    <h4>Aylam Bar-On</h4>\r\n                    <div className=\"a-baron\">\r\n\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}","\r\nexport function Footer() {\r\n    return (\r\n        <div className=\"main-layout main-footer\">\r\n\r\n            <footer className=\"footer-content\">\r\n                <h1 className=\"logo\">HomeMe</h1>\r\n                <small>© 2021 HomeMe, Inc.</small>\r\n                <ul className=\"social-nav justify-content \">\r\n                    <a className=\"fa twitter \" href=\"http://twitter.com \" target=\"_blank \"> </a>\r\n                    <a className=\"fa facebook \" href=\"http://facebook.com \" target=\"_blank \"> </a>\r\n                    <a className=\"fa instegram \" href=\"http://instegram.com \" target=\"_blank \"> </a>\r\n                </ul>\r\n\r\n            </footer>\r\n\r\n        </div>\r\n    )\r\n}","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n    const { pathname } = useLocation();\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, [pathname]);\r\n\r\n    return null;\r\n}","import React from 'react'\r\nimport { useForm } from '../services/customHooks'\r\n\r\n\r\nexport const StayFilterSearch = ({ onSetFilter }) => {\r\n    const [filterBy, handleChange] = useForm({\r\n        searchTxt: '',\r\n        type: 'all',\r\n        sortBy: 'all'\r\n    }, onSetFilter)\r\n\r\n    const { searchTxt } = filterBy\r\n    return (\r\n        <div className=\"_1xq16jy\">\r\n\r\n\r\n            <select\r\n                className=\"_1xq16jy\"\r\n\r\n                name=\"searchTxt\"\r\n                value={searchTxt}\r\n                variant=\"outlined\"\r\n                onChange={handleChange}\r\n            >\r\n                <option value=\"\">Choose a place</option>\r\n                <option value=\"rio\">Rio de Janeiro</option>\r\n                <option value=\"new york\">New York</option>\r\n                <option value=\"sydney\">Sydney</option>\r\n            </select>\r\n        </div >\r\n    )\r\n}\r\n","import { useEffect, useState } from \"react\"\r\n\r\nexport const useForm = (initialState, cb = () => {}) => {\r\n    const [fields, setFields] = useState(initialState)\r\n\r\n    useEffect(() => {\r\n        cb(fields)\r\n    }, [fields])\r\n\r\n    return [\r\n        fields,\r\n        function (ev) {\r\n            const field = ev.target.name\r\n            const value = (ev.target.type === 'number') ? +ev.target.value : ev.target.value\r\n            setFields(prevFields => ({ ...prevFields, [field]: value}))\r\n        },\r\n        setFields\r\n    ]\r\n}","import { StayFilterSearch } from './StayFilterSearch.jsx'\r\nimport { loadStays, setFilter } from '../store/actions/stay.actions.js'\r\nimport React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\n\r\nimport { GuestsModal } from './AddOrder/GuestsModal.jsx'\r\n\r\n\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nexport const HeaderFilter = () => {\r\n\r\n    const location = useLocation()\r\n    const searchParams = new URLSearchParams(location.search);\r\n    const searchTxt = searchParams.get('searchTxt')\r\n    const type = searchParams.get('type')\r\n    const sortBy = searchParams.get('sortBy')\r\n\r\n\r\n    const {filterBy} = useSelector(state => state.stayModule)\r\n\r\n    let newFilterBy = {}\r\n    \r\n    if (searchTxt || type || sortBy) {\r\n\r\n         if (searchTxt) newFilterBy = {...filterBy, searchTxt}\r\n         if (type) newFilterBy = {...filterBy, type}\r\n         if (sortBy) newFilterBy = {...filterBy, sortBy}\r\n    }\r\n    else {\r\n        newFilterBy = filterBy\r\n    }\r\n\r\n\r\n\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    const [startDate, setStartDate] = useState(new Date());\r\n    const [endDate, setEndDate] = useState(new Date());\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const [guests, setGuests] = useState({})\r\n\r\n    const handleOpen = () => {\r\n\r\n        setOpen(true);\r\n    };\r\n\r\n    const closeModal = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    \r\n\r\n    const onSubmitSearch = (ev) => {\r\n        ev.preventDefault()\r\n        history.push(`/stay?searchTxt=${newFilterBy.searchTxt}`)\r\n        dispatch(loadStays(newFilterBy))\r\n    }\r\n\r\n    const onSetFilter = (newFilterBy) => {\r\n        dispatch(loadStays(newFilterBy))\r\n        dispatch(setFilter(newFilterBy))\r\n    }\r\n\r\n    return (\r\n        <form className=\"_1keztfl\" role=\"search\">\r\n            <div className=\"_1sx4f1vv\" data-panel-bounds=\"true\">\r\n                <div className=\"_1c7nvmy\">\r\n                    <div className=\"_1jkbosm7\">\r\n                        <div>\r\n                            <div className=\"_mnnz9u\">\r\n                                <label className=\"_koumzdh\">\r\n                                    <div className=\"_gor68n\">\r\n                                        <div className=\"_1i9tpqw\">Location</div>\r\n                                        <StayFilterSearch className=\"_1xq16jy\" onSetFilter={onSetFilter} />\r\n                                    </div>\r\n                                </label>\r\n                                <span id=\"Koan-query__description\" className=\"_krjbj\">Navigate forward to access suggested results</span>\r\n                                <span aria-atomic=\"true\" aria-live=\"polite\" role=\"status\" className=\"_krjbj\"></span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"_43mycv\"></div>\r\n                    <div className=\"_1l6jpwo\">\r\n                        <div className=\"_j8gg2a\">\r\n                            <div role=\"button\" tabIndex=\"0\" className=\"_1akb2mdw\" aria-expanded=\"false\" data-testid=\"structured-search-input-field-split-dates-0\">\r\n                                <div className=\"_seuyf\">\r\n                                    <div className=\"_wtz1co\">Check in</div>\r\n                                    <DatePicker\r\n                                        className=\"_uh2dzp start-date\"\r\n                                        placeholderText=\"Add dates\"\r\n                                        selected={startDate}\r\n                                        selectsStart\r\n                                        startDate={startDate}\r\n                                        endDate={endDate}\r\n                                        onChange={(date) => {\r\n                                            setStartDate(date)\r\n                                        }} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"_43mycv\"></div>\r\n                        <div className=\"_j8gg2a\">\r\n                            <div role=\"button\" tabIndex=\"0\" className=\"_1akb2mdw\" aria-expanded=\"false\" data-testid=\"structured-search-input-field-split-dates-1\">\r\n                                <div className=\"_seuyf\">\r\n                                    <div className=\"_wtz1co\">Check out</div>\r\n                                    <DatePicker\r\n                                        className=\"_uh2dzp end-date \"\r\n                                        placeholderText=\"Add dates\"\r\n                                        selected={endDate}\r\n                                        selectsEnd\r\n                                        startDate={startDate}\r\n                                        endDate={endDate}\r\n                                        minDate={startDate}\r\n                                        onChange={(date) => {\r\n                                            setEndDate(date)\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"_43mycv\"></div>\r\n                    <div className=\"_1yulsurh\">\r\n                        <div role=\"button\" tabIndex=\"0\" className=\"_37ivfdq\" aria-expanded=\"false\" data-testid=\"structured-search-input-field-guests-button\">\r\n                            <div className=\"_seuyf\">\r\n                                <div className=\"_wtz1co\">Guests</div>\r\n                                <div type=\"button\" className=\"_uh2dzp\" onClick={handleOpen}>Add guests</div>\r\n                                {open && <GuestsModal setGuests={setGuests} closeModal={closeModal} />}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"_w64aej\">\r\n                            <button onClick={onSubmitSearch} className=\"_sxfp92z\" aria-expanded=\"false\" type=\"submit\" data-testid=\"structured-search-input-search-button\">\r\n                                <div className=\"_1hb5o3s\">\r\n                                    <div className=\"_14lk9e14\">\r\n                                        <svg className=\"_svg-search\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" role=\"presentation\" focusable=\"false\" >\r\n                                            <g fill=\"none\"><path d=\"m13 24c6.0751322 0 11-4.9248678 11-11 0-6.07513225-4.9248678-11-11-11-6.07513225 0-11 4.92486775-11 11 0 6.0751322 4.92486775 11 11 11zm8-3 9 9\"></path>\r\n                                            </g>\r\n                                        </svg>\r\n                                    </div>\r\n                                    <div className=\"_c5qlo1f\" >Search</div>\r\n                                </div>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n","import React, {useState} from 'react';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\nimport { logout } from '../store/actions/user.actions.js'\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default function SimpleMenu({loggedInUser}) {\r\n    const dispatch = useDispatch()\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const onLogout = () => {\r\n        dispatch(logout())\r\n    }\r\n\r\n    return (\r\n        <div className=\"simple-menu-css\">\r\n            <div onClick={handleClick} className=\"avatar-icon\">\r\n                <MenuIcon />\r\n                {!loggedInUser && <AccountCircleIcon />}\r\n                {loggedInUser && <img src={loggedInUser.imgUrl} alt=\"\" />}\r\n            </div>\r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                      \r\n                {!loggedInUser && <MenuItem onClick={handleClose}><Link to=\"/login\">Profile</Link></MenuItem>}\r\n                {loggedInUser && <MenuItem onClick={handleClose}><Link to=\"/user\">Profile</Link></MenuItem>}\r\n               \r\n                <MenuItem onClick={handleClose}><Link to=\"/about\">About Us</Link></MenuItem>\r\n               \r\n                {!loggedInUser && <MenuItem onClick={handleClose}><NavLink to=\"/login\">Login</NavLink></MenuItem>}\r\n                {loggedInUser && <MenuItem onClick={handleClose && onLogout}><NavLink to=\"/login\">Logout</NavLink></MenuItem>}\r\n            </Menu>\r\n        </div>\r\n    );\r\n}","import React, { Component } from 'react'\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport { ReactComponent as Logo } from '../assets/img/airbnb.svg'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { connect } from 'react-redux'\r\nimport { HeaderFilter } from './HeaderFilter';\r\nimport SimpleMenu from './SimpleMenu';\r\nimport { ReactComponent as AngleLeft } from '../assets/img/icons/angle-left.svg'\r\n\r\n\r\n\r\n\r\n\r\nclass _Header extends Component {\r\n    state = {\r\n        isModalShow: false,\r\n        isHeaderFilterOpen: false,\r\n        show: true,\r\n        scrollPos: 0,\r\n        topPos: 0,\r\n        forFilter: true\r\n    }\r\n    componentDidMount() {\r\n        window.addEventListener(\"scroll\", this.handleScroll);\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"scroll\", this.handleScroll);\r\n    }\r\n\r\n    handleScroll = () => {\r\n        this.setState({\r\n            scrollPos: document.body.getBoundingClientRect().top,\r\n            show: document.body.getBoundingClientRect().top > this.state.scrollPos,\r\n            forFilter: document.body.getBoundingClientRect().top === this.state.topPos\r\n        });\r\n    };\r\n\r\n    openFillter = () => {\r\n\r\n        this.setState({ ...this.state, isHeaderFilterOpen: !this.state.isHeaderFilterOpen })\r\n    }\r\n\r\n    showModal = (ev) => {\r\n        console.dir(ev)\r\n        this.setState({ ...this.state, isModalShow: !this.state.isModalShow })\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        const { loggedInUser } = this.props\r\n        const { isHeaderFilterOpen } = this.state\r\n        return (\r\n            <header className={this.state.forFilter ? \"no-bcg flex main-header main-layout\" : \"active flex main-header main-layout\"}>\r\n                <div className=\"header-expends flex\">\r\n                    <div className=\"nav-container flex space-between\">\r\n                        <h1 className=\"logo-container\">\r\n                            <Link to=\"/\"><Logo className=\"logo\" /><span>HomeMe</span></Link>\r\n                        </h1>\r\n\r\n                        <div className={this.state.forFilter ? \"hidden2\" : \"search-container\"} onClick={this.openFillter}>\r\n                            <input className=\"navbar-search-btn\" placeholder=\"Start your search\" />\r\n                            <span><SearchIcon /></span>\r\n                        </div>\r\n\r\n                        <nav className=\"header-nav flex\">\r\n                            <section className=\"explore\">\r\n                                <NavLink className={this.state.forFilter ? \"wht\" : \"blk\"} exact to=\"/stay\"><span><AngleLeft /></span> Explore</NavLink>\r\n                            </section>\r\n                            <section className=\"host\">\r\n                                {!loggedInUser?.isHost && <NavLink className={this.state.forFilter ? \"wht\" : \"blk\"} to=\"/login\">Become a host</NavLink>}\r\n                            </section>\r\n\r\n\r\n                            <section className=\"user\">\r\n                                <SimpleMenu loggedInUser={loggedInUser} />\r\n                            </section>\r\n                        </nav>\r\n\r\n                    </div>\r\n                    <div className={this.state.forFilter ? \"hidden3\" : \"main-search-bar\"}>\r\n                        {isHeaderFilterOpen && <HeaderFilter />}\r\n                    </div>\r\n\r\n                    <div className={this.state.forFilter ? \"main-search-bar\" : \"hidden\"}>\r\n                        <HeaderFilter />\r\n                    </div>\r\n                </div>\r\n            </header>\r\n        )\r\n    }\r\n\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\nconst mapDispatchToProps = {}\r\n\r\n\r\nexport const Header = connect(mapStateToProps, mapDispatchToProps)(_Header)","import { HashRouter as Router, Route, Switch } from 'react-router-dom'\r\n\r\nimport './assets/styles/styles.scss'\r\n\r\nimport { routes } from './routes.js'\r\nimport { Footer } from './cmps/Footer.jsx';\r\nimport { Component } from 'react';\r\nimport ScrollToTop from './cmps/ScrollToTop';\r\nimport {Header} from  './cmps/Header'\r\n\r\n\r\nexport class App extends Component{\r\n\r\n\r\n  Header1 = (location) => {\r\n    // console.log(location.location)\r\n    return <div className={location.location === '/' ? \"home\" : \"appp\"}><Header/> </div>\r\n  }\r\n  Header2 = () => {\r\n    return <div  className=\"krapppp main-layout\"> <Header /></div>\r\n  }\r\n  \r\n  \r\n  render() {\r\n    \r\n    return (\r\n      <div className=\"app-screen\">\r\n        <Router>\r\n          <ScrollToTop />\r\n          {/* <Header/> */}\r\n          <Switch>\r\n            <Route exact path={['/stay/:stayId', '/user', '/login', '/about']} render={() => <this.Header2 />} />\r\n            <Route path={['/', '/stay']} render={(path) =>  <this.Header1 location={path.location.pathname}/>} />\r\n          </Switch>\r\n          <main className=\"main-container main-layout\">\r\n            {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\r\n          </main>\r\n          <Footer />\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n// Header1 = () => {\r\n//   return <div className=\"appp main-layout\"> <Header/> </div>\r\n// }\r\n\r\n// DynamicCmp = (routes) => {\r\n//   switch (routes.url) {\r\n//     case '/':\r\n//       return <this.Header1 />\r\n//     case '/stay':\r\n//       return <this.Header1 />\r\n//     case '/stay/:stayId':\r\n//       return <this.Header2 />\r\n//     case '/stay/:user':\r\n//       return <this.Header2 />\r\n//     case '/stay/:login':\r\n//       return <this.Header2 />\r\n//       default:\r\n//         return console.error('error Header')\r\n//   }\r\n// }\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","export const storageService = {\r\n    load,\r\n    save\r\n}\r\n\r\nfunction save(key, val) {\r\n    sessionStorage.setItem(key, JSON.stringify(val))\r\n}\r\n\r\nfunction load(key) {\r\n    var val = sessionStorage.getItem(key)\r\n    return JSON.parse(val)\r\n}","\r\nimport { storageService } from './storage-service.js'\r\n\r\nconst axios = require('axios')\r\n\r\nconst STORAGE_KEY = 'loggedinUser'\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getLoggedinUser\r\n}\r\n\r\n// const BASE_URL = process.env.NODE_ENV === 'production' ? '/api' : 'http://localhost:3030/api'\r\n\r\nfunction login(credentials) {\r\n    console.log('credentials:', credentials)\r\n    return axios.post(`login`, credentials).then(res => res.data)\r\n        .then(user => {\r\n            storageService.save(STORAGE_KEY, user)\r\n            return user\r\n        })\r\n}\r\nfunction signup(userInfo) {\r\n    return axios.post(`signup`, userInfo).then(res => res.data)\r\n        .then(user => {\r\n            storageService.save(STORAGE_KEY, user)\r\n            return user\r\n        })\r\n}\r\nfunction logout() {\r\n    return axios.post(`logout`).then(res => res.data)\r\n        .then(() => {\r\n            storageService.save(STORAGE_KEY, null)\r\n            return null\r\n        })\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return storageService.load(STORAGE_KEY)\r\n}","import {userService} from '../../services/user.service.axios.js'\r\n\r\nconst initialState = {\r\n    loggedinUser: userService.getLoggedinUser(),\r\n}\r\n\r\nexport function appReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            return { ...state, loggedinUser: action.user }\r\n        // case 'UPDATE_SCORE':\r\n        //     return { ...state, loggedinUser: { ...state.loggedinUser, score: state.loggedinUser.score + action.diff } }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","const initialState = {\r\n    err : null,\r\n    isLoading: false,\r\n    stays: [],\r\n    filterBy: { searchTxt: '', type: 'all',sortBy: 'all' },\r\n    selectedStay: null,\r\n    shoppingCart: []\r\n}\r\n\r\nexport function stayReducer(state = initialState, action={}) {\r\n    switch (action.type) {\r\n        case 'SET_STAYS':\r\n            return { ...state, stays: action.stays, isLoading: false }\r\n        case 'SET_FILTER':\r\n            return { ...state, filterBy: action.filterBy, isLoading: false }\r\n        case 'STAY_ERR':\r\n            return { ...state, err: action.err, isLoading: false }\r\n        case 'ADD_STAY':\r\n            return { ...state, stays: [...state.stays, action.stay] }\r\n        case 'UPDATE_STAY':\r\n            const idx = state.stays.findIndex(stay => stay._id === action.stay._id)\r\n            state.stays.splice(idx, 1, action.stay)\r\n            return { ...state, stays: [...state.stays] }\r\n        case 'REMOVE_STAY':\r\n            return { ...state, stays: state.stays.filter(stay => stay._id !== action.stayId) }\r\n        case 'LOADING_STAYS':\r\n            return { ...state, isLoading: action.isLoading, err:null }\r\n        case 'SELECT_STAY': \r\n            return { ...state, selectedStay: action.stay}\r\n        case 'ADD_TO_CART':\r\n            return { ...state, shoppingCart: [...state.shoppingCart, action.item] }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","let localLoggedinUser = null\r\nif (sessionStorage.loggedinUser) localLoggedinUser = JSON.parse(sessionStorage.loggedinUser)\r\n\r\nconst initialState = {\r\n  loggedInUser: localLoggedinUser,\r\n  users: []\r\n}\r\n\r\nexport function userReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return { ...state, loggedInUser: action.user }\r\n    case 'REMOVE_USER':\r\n      return {\r\n        ...state,\r\n        users: state.users.filter(user => user._id !== action.userId)\r\n      }\r\n    case 'SET_USERS':\r\n      return { ...state, users: action.users }\r\n    case 'SET_SCORE':\r\n      return { ...state, loggedInUser: { ...state.loggedInUser, score: action.score } }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n    err: null,\r\n    orders: [],\r\n    isLoading: false,\r\n\r\n}\r\n\r\nexport function orderReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_ORDERS':\r\n            return {\r\n                ...state, orders: action.orders, isLoading: false\r\n            }\r\n        case 'ORDER_ERR':\r\n            return {\r\n                ...state, err: action.err, isLoading: false\r\n            }\r\n        case 'ADD_ORDER':\r\n            return {\r\n                ...state, orders: [...state.orders, action.order]\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\nimport ReduxThunk from 'redux-thunk';\r\nimport { appReducer } from './reducers/app.reducer.js'\r\nimport { stayReducer } from './reducers/stay.reducer.js'\r\nimport { userReducer } from './reducers/user.reducer.js'\r\nimport { orderReducer } from './reducers/order.reducers.js'\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    appModule: appReducer,\r\n    stayModule: stayReducer,\r\n    orderModule: orderReducer,\r\n    userModule: userReducer\r\n})\r\n\r\n\r\n// export const store = createStore(rootReducer,\r\n//     compose(applyMiddleware(ReduxThunk))) //Passing the reducer\r\nexport const store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(ReduxThunk))\r\n) //Passing the reducer\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// console.log('Redux STORE', store);\r\n// store.subscribe(() => {\r\n//     console.log('Counter state is:', store.getState())\r\n// })\r\n\r\n// store.dispatch({ type: 'INCREMENT' })\r\n// store.dispatch({ type: 'INCREMENT' })\r\n// store.dispatch({ type: 'INCREMENT' })\r\n// store.dispatch({ type: 'INCREMENT' })\r\n// store.dispatch({ type: 'INCREMENT' })\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux'\r\n\r\nimport './index.css';\r\nimport { App } from './App.jsx';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { store } from \"./store/store.js\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}